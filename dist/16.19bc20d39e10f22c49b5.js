(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{aEeX:function(o,t,a){"use strict";a.r(t),a.d(t,"PushNotificationsModule",function(){return G});var f=a("ofXK"),n=a("tyNb"),i=a("mrSG"),e=a("3Pt+"),r=a("nBtZ"),c=a("51+I"),s=a("m8qZ"),l=a("LvDl");class d{constructor(o,t,a,f,n,i,e){this.id=o,this.title_english=t,this.title_arabic=a,this.body_english=f,this.body_arabic=n,this.users_ids=i,this.action=e}static adapt(o){return o.rows.map(o=>(console.log(o),new d(null==o?void 0:o.id,null==o?void 0:o.title_english,null==o?void 0:o.title_arabic,null==o?void 0:o.body_english,null==o?void 0:o.body_arabic,null==o?void 0:o.Notification_users,null==o?void 0:o.from_admin)))}}var p=a("fXoL"),m=a("VO+5"),b=a("ogi/"),u=a("f0Cb"),w=a("kmnG"),h=a("qFsG"),g=a("cH1L"),y=a("znSr"),S=a("Egam"),P=a("bTqV");function v(o,t){if(1&o&&(p.Zb(0,"div",11),p.Qc(1,"\n        "),p.Ub(2,"app-loader",12),p.Qc(3,"\n      "),p.Yb()),2&o){const o=p.oc();p.Fb(2),p.vc("size",1.5)("isLoading",o.isBusy)}}function Q(o,t){1&o&&(p.Zb(0,"mat-error"),p.Qc(1,"\n                    "),p.Zb(2,"span"),p.Qc(3,"Title is required"),p.Yb(),p.Qc(4,"\n                  "),p.Yb())}function _(o,t){1&o&&(p.Zb(0,"mat-error"),p.Qc(1,"\n                    "),p.Zb(2,"span",37),p.Qc(3,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0645\u0637\u0644\u0648\u0628"),p.Yb(),p.Qc(4,"\n                  "),p.Yb())}function x(o,t){1&o&&(p.Zb(0,"mat-error"),p.Qc(1,"\n                    "),p.Zb(2,"span"),p.Qc(3,"Message is required"),p.Yb(),p.Qc(4,"\n                  "),p.Yb())}function C(o,t){1&o&&(p.Zb(0,"mat-error"),p.Qc(1,"\n                    "),p.Zb(2,"span"),p.Qc(3,"\u0623\u062f\u062e\u0644 \u0631\u0633\u0627\u0644\u0629"),p.Yb(),p.Qc(4,"\n                  "),p.Yb())}function I(o,t){1&o&&(p.Zb(0,"mat-error"),p.Qc(1,"\n                  "),p.Zb(2,"span"),p.Qc(3,"Atleast one user is required"),p.Yb(),p.Qc(4,"\n                "),p.Yb())}function M(o,t){1&o&&(p.Zb(0,"mat-error"),p.Qc(1,"\n                  "),p.Zb(2,"span"),p.Qc(3,"Atleast one user is required"),p.Yb(),p.Qc(4,"\n                "),p.Yb())}function B(o,t){if(1&o){const o=p.ac();p.Zb(0,"form",13,14),p.kc("ngSubmit",function(){return p.Gc(o),p.oc().submit()}),p.Qc(2,"\n        "),p.Zb(3,"div",15),p.Qc(4,"\n          "),p.Zb(5,"div",16),p.Qc(6,"\n            "),p.Zb(7,"h5",17),p.Qc(8),p.Yb(),p.Qc(9,"\n\n            "),p.Qc(10,"\n          "),p.Yb(),p.Qc(11,"\n          "),p.Ub(12,"mat-divider"),p.Qc(13,"\n          "),p.Zb(14,"div"),p.Qc(15,"\n            "),p.Zb(16,"div",18),p.Qc(17,"\n              "),p.Zb(18,"div",19),p.Qc(19,"\n                "),p.Zb(20,"label"),p.Qc(21,"Title"),p.Yb(),p.Qc(22,"\n                "),p.Zb(23,"mat-form-field",20),p.Qc(24,"\n                  "),p.Ub(25,"input",21),p.Qc(26,"\n                  "),p.Oc(27,Q,5,0,"mat-error",22),p.Qc(28,"\n                "),p.Yb(),p.Qc(29,"\n              "),p.Yb(),p.Qc(30,"\n\n              "),p.Zb(31,"div",23),p.Qc(32,"\n                "),p.Zb(33,"label",24),p.Qc(34,"\u0644\u0642\u0628"),p.Yb(),p.Qc(35,"\n                "),p.Zb(36,"mat-form-field",20),p.Qc(37,"\n                  "),p.Ub(38,"input",25),p.Qc(39,"\n                  "),p.Oc(40,_,5,0,"mat-error",22),p.Qc(41,"\n                "),p.Yb(),p.Qc(42,"\n              "),p.Yb(),p.Qc(43,"\n            "),p.Yb(),p.Qc(44,"\n            "),p.Zb(45,"div",26),p.Qc(46,"\n              "),p.Zb(47,"div",27),p.Qc(48,"\n                "),p.Zb(49,"label"),p.Qc(50,"Message (English)"),p.Yb(),p.Qc(51,"\n                "),p.Zb(52,"mat-form-field",20),p.Qc(53,"\n                  "),p.Ub(54,"textarea",28),p.Qc(55,"\n\n                  "),p.Oc(56,x,5,0,"mat-error",22),p.Qc(57,"\n                "),p.Yb(),p.Qc(58,"\n              "),p.Yb(),p.Qc(59,"\n              "),p.Zb(60,"div",29),p.Qc(61,"\n                "),p.Zb(62,"label"),p.Qc(63,"Message (Arabic)"),p.Yb(),p.Qc(64,"\n                "),p.Zb(65,"mat-form-field",20),p.Qc(66,"\n                  "),p.Ub(67,"textarea",30),p.Qc(68,"\n                  "),p.Oc(69,C,5,0,"mat-error",22),p.Qc(70,"\n                "),p.Yb(),p.Qc(71,"\n              "),p.Yb(),p.Qc(72,"\n            "),p.Yb(),p.Qc(73,"\n            "),p.Zb(74,"div",26),p.Qc(75,"\n              "),p.Zb(76,"div",27),p.Qc(77,"\n                "),p.Zb(78,"label"),p.Qc(79,"Users"),p.Yb(),p.Qc(80,"\n                "),p.Zb(81,"ng-multiselect-dropdown",31),p.kc("onSelect",function(t){return p.Gc(o),p.oc().onItemSelect(t)})("onSelectAll",function(t){return p.Gc(o),p.oc().onSelectAll(t)}),p.Qc(82,"\n                "),p.Yb(),p.Qc(83,"\n                "),p.Oc(84,I,5,0,"mat-error",22),p.Qc(85,"\n              "),p.Yb(),p.Qc(86,"\n              "),p.Zb(87,"div",27),p.Qc(88,"\n                "),p.Zb(89,"label"),p.Qc(90,"Coaches"),p.Yb(),p.Qc(91,"\n                "),p.Zb(92,"ng-multiselect-dropdown",32),p.kc("onSelect",function(t){return p.Gc(o),p.oc().onItemSelect(t)})("onSelectAll",function(t){return p.Gc(o),p.oc().onSelectAll(t)}),p.Qc(93,"\n                "),p.Yb(),p.Qc(94,"\n                "),p.Oc(95,M,5,0,"mat-error",22),p.Qc(96,"\n              "),p.Yb(),p.Qc(97,"\n            "),p.Yb(),p.Qc(98,"\n            "),p.Qc(99,"\n\n            "),p.Ub(100,"mat-divider"),p.Qc(101,"\n            "),p.Zb(102,"div",33),p.Qc(103,"\n              "),p.Zb(104,"div",34),p.Qc(105,"\n                "),p.Zb(106,"div",35),p.Qc(107,"\n                  "),p.Zb(108,"button",36),p.Qc(109),p.Yb(),p.Qc(110,"\n                "),p.Yb(),p.Qc(111,"\n              "),p.Yb(),p.Qc(112,"\n            "),p.Yb(),p.Qc(113,"\n          "),p.Yb(),p.Qc(114,"\n        "),p.Yb(),p.Qc(115,"\n      "),p.Yb()}if(2&o){const o=p.oc();p.vc("formGroup",o.Form),p.Fb(8),p.Rc("Edit"==o.type?"Edit":"Add New"),p.Fb(19),p.vc("ngIf",o.hasError("title_english","required")),p.Fb(13),p.vc("ngIf",o.hasError("title_arabic","required")),p.Fb(5),p.vc("ngClass",o.dataService.smallDevice?"":" pt-3"),p.Fb(11),p.vc("ngIf",o.hasError("body_english","required")),p.Fb(13),p.vc("ngIf",o.hasError("body_arabic","required")),p.Fb(5),p.vc("ngClass",o.dataService.smallDevice?"":" pt-3"),p.Fb(7),p.vc("placeholder","select...")("settings",o.dropdownSettings)("data",o.usersList),p.Fb(3),p.vc("ngIf",o.hasError("users_ids","required")&&o.Form.controls.users_ids.touched),p.Fb(8),p.vc("placeholder","select...")("settings",o.dropdownSettings)("data",o.coachList),p.Fb(3),p.vc("ngIf",o.hasError("coach_ids","required")&&o.Form.controls.coach_ids.touched),p.Fb(13),p.vc("disabled",o.Form.invalid),p.Fb(1),p.Sc("\n                    ",o.admin_id?"Send":"Add New","\n                  ")}}let Y=(()=>{class o{constructor(o,t,a,f,n){this.formBuilder=o,this.dataService=t,this.router=a,this.route=f,this.notifierService=n,this.isLoading=!1,this.data={},this.dropdownList=[],this.isBusy=!1,this.hasError=(o,t)=>this.Form.controls[o].hasError(t),this.createForm(),this.getAllUsers(),this.getAllCoaches(),this.dropdownSettings={singleSelection:!1,idField:"id",textField:"full_name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!1}}ngOnInit(){this.route.queryParams.subscribe(o=>{this.admin_id=o.id,this.type=o.type,this.admin_id&&this.getNotificationDetail()})}getNotificationDetail(){this.isBusy=!0,this.dataService.getSingle("/notification/get_notification_detail?id="+this.admin_id,d).subscribe(o=>{let t=[],a=[];o[0].users_ids.length&&o[0].users_ids.forEach(o=>{let f={id:o.id,full_name:o.first_name+" "+o.last_name};"Coach"==o.user_type?a.push(f):t.push(f)}),o[0].users_ids=t||[],o[0].coach_ids=a||[],this.updateFormValues(o[0]),this.isBusy=!1},o=>{this.isBusy=!1})}updateFormValues(o){console.log(o),this.Form.patchValue(o)}createForm(){this.Form=this.formBuilder.group({title_arabic:["",e.x.required],title_english:["",e.x.required],body_english:["",e.x.required],body_arabic:["",e.x.required],users_ids:["",e.x.required],coach_ids:["",e.x.required]})}getAllUsers(){this.dataService.get_WithoutCount("/notification/get_users",c.a).subscribe(o=>Object(i.e)(this,void 0,void 0,function*(){console.log(o),this.usersList=o}),o=>{})}getAllCoaches(){this.dataService.filters.limit=-1,this.dataService.get("/coach",s.a).subscribe(o=>Object(i.e)(this,void 0,void 0,function*(){console.log(o),this.coachList=o.data,this.dataService.filters.limit=5}),o=>{})}onItemSelect(o){console.log(o)}onSelectAll(o){console.log(o)}submit(){let o=this.Form.value.users_ids.map(o=>o.id),t=this.Form.value.coach_ids.map(o=>o.id),a=o.concat(t),f=l.uniqWith(a,l.isEqual);if(this.Form.value.users_ids=f,this.Form.value.coach_ids=t,this.admin_id&&(this.Form.value.id=this.admin_id),!this.Form.valid)return 0;this.isLoading=!0,(this.admin_id?this.dataService.put("/notification/"+this.admin_id,this.Form.value):this.dataService.post("/notification/",this.Form.value)).subscribe(o=>{this.router.navigate(["/","push-notifications"]),this.notifierService.notify("success",o.message),this.isLoading=!1},o=>{var t;this.isLoading=!1,(null===(t=null==o?void 0:o.error)||void 0===t?void 0:t.error)?this.notifierService.notify("error",o.error.message):this.notifierService.notify("error","Something went wrong")})}}return o.\u0275fac=function(t){return new(t||o)(p.Tb(e.f),p.Tb(r.a),p.Tb(n.e),p.Tb(n.a),p.Tb(m.c))},o.\u0275cmp=p.Nb({type:o,selectors:[["app-add-new-notification"]],decls:34,vars:2,consts:[[1,"page","custom-page"],[1,"container-fluid"],[1,"row","mx-2","mt-3"],[1,"col-md-12","pl-0"],[1,"head"],["class","col-md-12 pt-5 justify-content-center d-flex",4,"ngIf"],["class","w-100","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row","mt-3","custom-footer"],[1,"bg-white","px-4","pt-2","pb-2","w-100"],[1,"col-md-12","footer-font"],[1,"footer-bold"],[1,"col-md-12","pt-5","justify-content-center","d-flex"],[1,"inline-loader",3,"size","isLoading"],["novalidate","",1,"w-100",3,"formGroup","ngSubmit"],["f",""],[1,"col-md-12","bg-white","pt-3","pb-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"sub-head"],[1,"row","pt-3"],[1,"col-md-6","col-sm-12",2,"display","grid"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Enter...","formControlName","title_english"],[4,"ngIf"],["dir","rtl",1,"col-md-6","col-sm-12",2,"display","grid"],[1,"ml-auto"],["matInput","","placeholder","\u0623\u062f\u062e\u0644...","formControlName","title_arabic"],[1,"row",3,"ngClass"],[1,"col"],["rows","5","matInput","","placeholder","Enter....","formControlName","body_english"],["dir","rtl",1,"col"],["dir","auto","rows","5","matInput","","placeholder","\u0623\u062f\u062e\u0644","formControlName","body_arabic"],["formControlName","users_ids",3,"placeholder","settings","data","onSelect","onSelectAll"],["formControlName","coach_ids",3,"placeholder","settings","data","onSelect","onSelectAll"],[1,"row","mt-3"],[1,"bg-white","pt-2","pb-2","w-100"],[1,"col-md-12","d-flex","justify-content-end"],["mat-flat-button","",1,"save-btn","text-white","version-btn","py-1",3,"disabled"],[2,"direction","rtl"]],template:function(o,t){1&o&&(p.Zb(0,"div",0),p.Qc(1,"\n  "),p.Zb(2,"div",1),p.Qc(3,"\n    "),p.Zb(4,"div",2),p.Qc(5,"\n      "),p.Zb(6,"div",3),p.Qc(7,"\n        "),p.Zb(8,"div",4),p.Qc(9,"Push Notifications"),p.Yb(),p.Qc(10,"\n      "),p.Yb(),p.Qc(11,"\n    "),p.Yb(),p.Qc(12,"\n    "),p.Zb(13,"div",2),p.Qc(14,"\n      "),p.Oc(15,v,4,2,"div",5),p.Qc(16,"\n      "),p.Oc(17,B,116,18,"form",6),p.Qc(18,"\n    "),p.Yb(),p.Qc(19,"\n    "),p.Zb(20,"div",7),p.Qc(21,"\n      "),p.Zb(22,"div",8),p.Qc(23,"\n        "),p.Zb(24,"div",9),p.Qc(25,"\n          "),p.Zb(26,"span",10),p.Qc(27," Copyright \xa9 2021 Fit & More."),p.Yb(),p.Qc(28," All rights reserved.\n        "),p.Yb(),p.Qc(29,"\n      "),p.Yb(),p.Qc(30,"\n    "),p.Yb(),p.Qc(31,"\n  "),p.Yb(),p.Qc(32,"\n"),p.Yb(),p.Qc(33,"\n")),2&o&&(p.Fb(15),p.vc("ngIf",t.isBusy&&t.admin_id),p.Fb(2),p.vc("ngIf",!t.isBusy))},directives:[f.n,b.a,e.y,e.q,e.k,u.a,w.c,h.b,e.c,e.p,e.i,g.b,f.l,y.a,S.a,P.a,w.b],styles:['@font-face{font-family:Poppins-Bold;src:url(Poppins-Bold.dd24d10e037690f2bdcd.woff2) format("woff2"),url(Poppins-Bold.a6b628bdef91e927b77c.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Black.9f8a4a5f1e0fe91ec9f7.woff2) format("woff2"),url(Poppins-Black.5d04762a4d2605958eb6.woff) format("woff");font-weight:900;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-BlackItalic.8b2173d8ca7218c9aa98.woff2) format("woff2"),url(Poppins-BlackItalic.5853a96ec18aa08b3a15.woff) format("woff");font-weight:900;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraBold.5b57f3aae2d78f5ee992.woff2) format("woff2"),url(Poppins-ExtraBold.ccb9c2051b79f6df27a2.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-BoldItalic.18770f85e0c23fcc2822.woff2) format("woff2"),url(Poppins-BoldItalic.066192b3e079bf989a28.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraLightItalic.55ba016002be15c32078.woff2) format("woff2"),url(Poppins-ExtraLightItalic.7b781bcc5774b4ca3aef.woff) format("woff");font-weight:200;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraBoldItalic.971d0eac32fdff44ef0a.woff2) format("woff2"),url(Poppins-ExtraBoldItalic.a0eb757c1156a6670626.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Light.9bec05ab7f83d34eb905.woff2) format("woff2"),url(Poppins-Light.6f5b7a1c94cb6419bec4.woff) format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Italic.f932365bae7a67562d50.woff2) format("woff2"),url(Poppins-Italic.dce4482653df21326fb3.woff) format("woff");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraLight.8a5423f83d49c5ba6eea.woff2) format("woff2"),url(Poppins-ExtraLight.52747ba12744d6335cc9.woff) format("woff");font-weight:200;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-MediumItalic.de07f277b373e75a16b2.woff2) format("woff2"),url(Poppins-MediumItalic.38bd2f9c930011bc0e4f.woff) format("woff");font-weight:500;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-LightItalic.f8fc4fd3d2ad4a00a9a2.woff2) format("woff2"),url(Poppins-LightItalic.cbc254035fd2db12340f.woff) format("woff");font-weight:300;font-style:italic;font-display:swap}@font-face{font-family:Poppins-Medium;src:url(Poppins-Medium.563f976db73ca07d8fc3.woff2) format("woff2"),url(Poppins-Medium.7e588a26bdac2428f240.woff) format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-SemiBoldItalic.6ad14e1bba33d088176b.woff2) format("woff2"),url(Poppins-SemiBoldItalic.ae7a11bcc58ca2e84f43.woff) format("woff");font-weight:600;font-style:italic;font-display:swap}@font-face{font-family:Poppins-Regular;src:url(Poppins-Regular.ad19729d6a0511212493.woff2) format("woff2"),url(Poppins-Regular.387f9003f984ef1cec60.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-SemiBold.3c3f3613b59d581739fc.woff2) format("woff2"),url(Poppins-SemiBold.71da8e4f0d76b718897c.woff) format("woff");font-weight:600;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Thin.852bafc278ec1d018963.woff2) format("woff2"),url(Poppins-Thin.654968a8c2ee9e7c8bb6.woff) format("woff");font-weight:100;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ThinItalic.0996aa024c3d73abd3bb.woff2) format("woff2"),url(Poppins-ThinItalic.ed0c900126e6bfcf463c.woff) format("woff");font-weight:100;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-BlackItalic.dc2aeed524020417e75e.woff2) format("woff2"),url(SourceSansPro-BlackItalic.23ac2cb303e520d9dae1.woff) format("woff");font-weight:900;font-style:italic;font-display:swap}@font-face{font-family:Source-Sans-Pro-Bold;src:url(SourceSansPro-Bold.0c995bef8bf72442d796.woff2) format("woff2"),url(SourceSansPro-Bold.91f9f2e61630c9aa1404.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Black.0909c2844da7ecd1d03d.woff2) format("woff2"),url(SourceSansPro-Black.f18ac4042ae8e0afd62e.woff) format("woff");font-weight:900;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-BoldItalic.ef8fdb1ec6ba81eaa0ed.woff2) format("woff2"),url(SourceSansPro-BoldItalic.097e86e5c1a9d40ae43e.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-ExtraLight.a629a9c6cb4184fdbf52.woff2) format("woff2"),url(SourceSansPro-ExtraLight.f3fda02d13be37f04148.woff) format("woff");font-weight:200;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Italic.df0284f48bf82344e808.woff2) format("woff2"),url(SourceSansPro-Italic.0a5e990ac6ee1cbd5331.woff) format("woff");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-ExtraLightItalic.e18594a38c6a04711f56.woff2) format("woff2"),url(SourceSansPro-ExtraLightItalic.4a745a8610207e8d302b.woff) format("woff");font-weight:200;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Light.fda76ee47fb03c6f600c.woff2) format("woff2"),url(SourceSansPro-Light.9af3f18eb9e9a9513df6.woff) format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Regular.2002a425747f5a14e2ec.woff2) format("woff2"),url(SourceSansPro-Regular.30c47935a0d8eb4943fb.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-LightItalic.5fe22e53f5325a7be047.woff2) format("woff2"),url(SourceSansPro-LightItalic.80562f412fba0975d584.woff) format("woff");font-weight:300;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-SemiBoldItalic.f035d6a1c635cda6d11a.woff2) format("woff2"),url(SourceSansPro-SemiBoldItalic.5fd025fde03c4c25da3b.woff) format("woff");font-weight:600;font-style:italic;font-display:swap}@font-face{font-family:Source-Sans-Pro-SemiBold;src:url(SourceSansPro-SemiBold.ea12a4c1226398200b27.woff2) format("woff2"),url(SourceSansPro-SemiBold.2e8a8368205a8b773e32.woff) format("woff");font-weight:600;font-style:normal;font-display:swap}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.d-grid[_ngcontent-%COMP%]{display:grid}.mat-standard-chip[_ngcontent-%COMP%]{border-radius:4px;background-color:#f5eeee;border:1px solid #ddd}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]:after{background:transparent}.dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;width:150px;height:40px;cursor:pointer;border-radius:10px;background-color:#0d1111;padding:8px 10px}.custom-width[_ngcontent-%COMP%]{width:140px;height:140px}.light-bg[_ngcontent-%COMP%]{background-color:#f5eeee}.save-btn[_ngcontent-%COMP%]{background-color:#0d1111;width:120px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Source-Sans-Pro-Bold;font-size:18px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{font-size:15px}h6[_ngcontent-%COMP%]{font-family:Source-Sans-Pro-Bold;font-size:18px;padding-bottom:10px}.mat-check-box[_ngcontent-%COMP%]{font-family:Source-Sans-Pro-SemiBold;font-size:18px}.mat-checkbox-sub[_ngcontent-%COMP%]{font-family:Source Sans Pro!important}[_nghost-%COMP%]     .mat-form-field-infix{border-top:0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-flex{padding:5px .75em 3px!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0 .8em}[_nghost-%COMP%]     .mat-checkbox{font-family:Source-Sans-Pro-SemiBold;font-size:18px}[_nghost-%COMP%]     .sub-check{font-family:Source Sans Pro!important;font-size:18px}[_nghost-%COMP%]   .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate[_ngcontent-%COMP%], [_nghost-%COMP%]     .mat-primary .mat-pseudo-checkbox-checked{background:#0d1111!important}[_nghost-%COMP%]     .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#0d1111!important}.per-height[_ngcontent-%COMP%]{flex-flow:column wrap;height:230px}.per-height[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{width:300px!important}.coach-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Source-Sans-Pro-Bold!important;font-size:18px}.coach-left[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{font-family:Source Sans Pro!important;font-size:16px}.m-sel-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Source-Sans-Pro-Bold!important;font-size:16px}.m-sel[_ngcontent-%COMP%]   mat-option[_ngcontent-%COMP%]{font-family:Source Sans Pro!important;font-size:14px}']}),o})();var O=a("qvdk"),Z=a("S5/W");class L{constructor(o,t,a,f,n,i){this.id=o,this.title=t,this.title_arabic=a,this.message=f,this.message_arabic=n,this.action=i}static adapt(o){return o.rows.map(o=>new L(null==o?void 0:o.id,null==o?void 0:o.title_english,null==o?void 0:o.title_arabic,null==o?void 0:o.body_english,null==o?void 0:o.body_arabic,null==o?void 0:o.from_admin))}}var F=a("YjQY"),k=a("0IaG"),E=a("NFeN"),A=a("1esC");function T(o,t){if(1&o&&(p.Zb(0,"div",23),p.Qc(1,"\n        "),p.Ub(2,"app-loader",24),p.Qc(3,"\n      "),p.Yb()),2&o){const o=p.oc();p.Fb(2),p.vc("size",1.5)("isLoading",o.isLoading)}}const q=function(){return[5,10,15]},D=[{path:"",component:(()=>{class o{constructor(o,t,a,f){this.dataService=o,this.matDialog=t,this.router=a,this.notifierService=f,this.popupRef=new O.a(this.matDialog),this.isLoading=!1,this.DeleteComponent=Z.a,this.searchString=new e.g(""),this.tableData=[],this.dataBusy=!1}ngAfterViewInit(){}ngOnInit(){this.notifications(),this.initializeColumns()}initializeColumns(){this.tableColumns=[{name:"Title(English)",dataKey:"title",position:"left",isSortable:!0},{name:"Title(Arabic)",dataKey:"title_arabic",position:"left",isSortable:!0},{name:"Message (English)",dataKey:"message",position:"left",isSortable:!0},{name:"Message (Arabic)",dataKey:"message_arabic",position:"left",isSortable:!0}]}notifications(){this.isLoading=!0,this.dataService.get("/notification",L).subscribe(o=>Object(i.e)(this,void 0,void 0,function*(){this.tableData=o,console.log(this.tableData),this.isLoading=!1}),o=>{this.tableData=[],this.isLoading=!1})}edit(o){this.dataService.setSelectedData(o),this.router.navigate(["/push-notifications/add-new-notification"],{queryParams:{type:"Edit",id:o.id}})}openItemModal(o,t,a,f){this.matDialog.closeAll(),this.popupRef.openModal(o,t,{data:a},f).afterClosed().subscribe(o=>{o&&"done"==o.event&&this.notifications(),o&&"closed"==o.event&&console.log("confirmed")})}validateArrayLength(o){return!!o.length}export(){this.dataBusy=!0,this.dataService.filters.limit=-1,this.dataService.filters.offset=0,this.dataService.get("/notification",L).subscribe(o=>{if(!this.validateArrayLength(o.data))return this.notifierService.notify("error","No data available to download"),this.dataBusy=!1,this.dataService.filters.limit=5,0;F.a.Instance.downloadExcel(o.data,"notifications"),this.dataBusy=!1,this.dataService.filters.limit=5},o=>{this.dataService.filters.limit=5,this.dataBusy=!1})}ngOnDestroy(){this.dataService.filters.offset=0,this.dataService.filters.limit=5,this.dataService.filters.search="",this.dataService.filters.sortParams.key="",this.dataService.filters.sortParams.order="desc"}}return o.\u0275fac=function(t){return new(t||o)(p.Tb(r.a),p.Tb(k.b),p.Tb(n.e),p.Tb(m.c))},o.\u0275cmp=p.Nb({type:o,selectors:[["app-push-notifications"]],decls:69,vars:22,consts:[[1,"page","custom-page"],[1,"container-fluid"],[1,"row","mx-2","mt-3"],[1,"col-md-12","align-items-center","justify-content-between","d-flex","pl-0","pr-0"],[1,"head"],["routerLink","/push-notifications/add-new-notification","mat-flat-button","",1,"bg-color","text-white","version-btn"],[1,"pl-2"],[1,"row","mt-3",3,"ngClass"],[1,"col-md-12","bg-white","align-items-center","justify-content-between","pt-3","pb-3",3,"ngClass"],[1,"sub-head","pl-3"],[1,"align-items-center","pr-3",3,"ngClass"],[1,"form-inline",3,"ngClass"],["type","text",1,"form-control","ml-2","search-input",3,"formControl"],["input",""],["class","col-md-12 pt-5 justify-content-center d-flex",4,"ngIf"],[1,"col-md-12","bg-white",3,"ngClass"],[2,"display","grid",3,"ngClass"],[1,""],[3,"tableData","tableColumns","searchValue","isFilterable","isDeleteIcon","isEditIcon","isToggleIcon","isPageable","paginationSizes","defaultPageSize","rowActionIcon","reloadTable","rowDeleteAction","rowEditAction"],[1,"row","mt-3","custom-footer"],[1,"bg-white","px-4","pt-2","pb-2","w-100"],[1,"col-md-12","footer-font"],[1,"footer-bold"],[1,"col-md-12","pt-5","justify-content-center","d-flex"],[1,"inline-loader",3,"size","isLoading"]],template:function(o,t){1&o&&(p.Zb(0,"div",0),p.Qc(1,"\n  "),p.Zb(2,"div",1),p.Qc(3,"\n    "),p.Zb(4,"div",2),p.Qc(5,"\n      "),p.Zb(6,"div",3),p.Qc(7,"\n        "),p.Zb(8,"div",4),p.Qc(9,"Push Notifications"),p.Yb(),p.Qc(10,"\n        "),p.Zb(11,"button",5),p.Qc(12,"\n          Add New"),p.Zb(13,"mat-icon",6),p.Qc(14,"add_circle_outline"),p.Yb(),p.Qc(15,"\n        "),p.Yb(),p.Qc(16,"\n      "),p.Yb(),p.Qc(17,"\n    "),p.Yb(),p.Qc(18,"\n    "),p.Zb(19,"div",7),p.Qc(20,"\n      "),p.Zb(21,"div",8),p.Qc(22,"\n        "),p.Zb(23,"h5",9),p.Qc(24,"Notifications"),p.Yb(),p.Qc(25,"\n        "),p.Zb(26,"div",10),p.Qc(27,"\n          "),p.Zb(28,"form"),p.Qc(29,"\n            "),p.Zb(30,"div",11),p.Qc(31,"\n              Search\n              "),p.Ub(32,"input",12,13),p.Qc(34,"\n            "),p.Yb(),p.Qc(35,"\n          "),p.Yb(),p.Qc(36,"\n        "),p.Yb(),p.Qc(37,"\n      "),p.Yb(),p.Qc(38,"\n      "),p.Oc(39,T,4,2,"div",14),p.Qc(40,"\n\n      "),p.Qc(41,"\n      "),p.Zb(42,"div",15),p.Qc(43,"\n        "),p.Zb(44,"div",16),p.Qc(45,"\n          "),p.Zb(46,"div",17),p.Qc(47,"\n            "),p.Zb(48,"app-datatable",18),p.kc("reloadTable",function(){return t.notifications()})("rowDeleteAction",function(o){return t.openItemModal("delete",t.DeleteComponent,o,"NotificationComponent")})("rowEditAction",function(o){return t.edit(o)}),p.Qc(49,"\n            "),p.Yb(),p.Qc(50,"\n          "),p.Yb(),p.Qc(51,"\n        "),p.Yb(),p.Qc(52,"\n      "),p.Yb(),p.Qc(53,"\n    "),p.Yb(),p.Qc(54,"\n    "),p.Zb(55,"div",19),p.Qc(56,"\n      "),p.Zb(57,"div",20),p.Qc(58,"\n        "),p.Zb(59,"div",21),p.Qc(60,"\n          "),p.Zb(61,"span",22),p.Qc(62," Copyright \xa9 2021 Fit & More."),p.Yb(),p.Qc(63," All rights reserved.\n        "),p.Yb(),p.Qc(64,"\n      "),p.Yb(),p.Qc(65,"\n    "),p.Yb(),p.Qc(66,"\n  "),p.Yb(),p.Qc(67,"\n"),p.Yb(),p.Qc(68,"\n")),2&o&&(p.Fb(19),p.vc("ngClass",t.dataService.isMobile?"":"mx-2"),p.Fb(2),p.vc("ngClass",t.dataService.smallDevice?"":" d-md-flex"),p.Fb(5),p.vc("ngClass",t.dataService.isMobile?"pl-3 d-flex":" d-md-flex"),p.Fb(4),p.vc("ngClass",t.dataService.isMobile?"pt-1":""),p.Fb(2),p.vc("formControl",t.searchString),p.Fb(7),p.vc("ngIf",t.isLoading),p.Fb(3),p.Lc("visibility",t.isLoading?"hidden":"visible"),p.vc("ngClass",t.dataService.smallDevice?"px-0":""),p.Fb(2),p.vc("ngClass",t.dataService.smallDevice?"mx-0":"mx-3"),p.Fb(4),p.vc("tableData",t.tableData)("tableColumns",t.tableColumns)("searchValue",t.searchString.value)("isFilterable",!0)("isDeleteIcon",!0)("isEditIcon",!0)("isToggleIcon",!1)("isPageable",!0)("paginationSizes",p.yc(21,q))("defaultPageSize",5)("rowActionIcon","remove_shopping_cart"))},directives:[P.a,n.f,E.a,f.l,y.a,e.y,e.q,e.r,e.c,e.p,e.h,f.n,A.a,b.a],styles:['@charset "UTF-8";@font-face{font-family:Poppins-Bold;src:url(Poppins-Bold.dd24d10e037690f2bdcd.woff2) format("woff2"),url(Poppins-Bold.a6b628bdef91e927b77c.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Black.9f8a4a5f1e0fe91ec9f7.woff2) format("woff2"),url(Poppins-Black.5d04762a4d2605958eb6.woff) format("woff");font-weight:900;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-BlackItalic.8b2173d8ca7218c9aa98.woff2) format("woff2"),url(Poppins-BlackItalic.5853a96ec18aa08b3a15.woff) format("woff");font-weight:900;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraBold.5b57f3aae2d78f5ee992.woff2) format("woff2"),url(Poppins-ExtraBold.ccb9c2051b79f6df27a2.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-BoldItalic.18770f85e0c23fcc2822.woff2) format("woff2"),url(Poppins-BoldItalic.066192b3e079bf989a28.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraLightItalic.55ba016002be15c32078.woff2) format("woff2"),url(Poppins-ExtraLightItalic.7b781bcc5774b4ca3aef.woff) format("woff");font-weight:200;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraBoldItalic.971d0eac32fdff44ef0a.woff2) format("woff2"),url(Poppins-ExtraBoldItalic.a0eb757c1156a6670626.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Light.9bec05ab7f83d34eb905.woff2) format("woff2"),url(Poppins-Light.6f5b7a1c94cb6419bec4.woff) format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Italic.f932365bae7a67562d50.woff2) format("woff2"),url(Poppins-Italic.dce4482653df21326fb3.woff) format("woff");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraLight.8a5423f83d49c5ba6eea.woff2) format("woff2"),url(Poppins-ExtraLight.52747ba12744d6335cc9.woff) format("woff");font-weight:200;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-MediumItalic.de07f277b373e75a16b2.woff2) format("woff2"),url(Poppins-MediumItalic.38bd2f9c930011bc0e4f.woff) format("woff");font-weight:500;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-LightItalic.f8fc4fd3d2ad4a00a9a2.woff2) format("woff2"),url(Poppins-LightItalic.cbc254035fd2db12340f.woff) format("woff");font-weight:300;font-style:italic;font-display:swap}@font-face{font-family:Poppins-Medium;src:url(Poppins-Medium.563f976db73ca07d8fc3.woff2) format("woff2"),url(Poppins-Medium.7e588a26bdac2428f240.woff) format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-SemiBoldItalic.6ad14e1bba33d088176b.woff2) format("woff2"),url(Poppins-SemiBoldItalic.ae7a11bcc58ca2e84f43.woff) format("woff");font-weight:600;font-style:italic;font-display:swap}@font-face{font-family:Poppins-Regular;src:url(Poppins-Regular.ad19729d6a0511212493.woff2) format("woff2"),url(Poppins-Regular.387f9003f984ef1cec60.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-SemiBold.3c3f3613b59d581739fc.woff2) format("woff2"),url(Poppins-SemiBold.71da8e4f0d76b718897c.woff) format("woff");font-weight:600;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Thin.852bafc278ec1d018963.woff2) format("woff2"),url(Poppins-Thin.654968a8c2ee9e7c8bb6.woff) format("woff");font-weight:100;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ThinItalic.0996aa024c3d73abd3bb.woff2) format("woff2"),url(Poppins-ThinItalic.ed0c900126e6bfcf463c.woff) format("woff");font-weight:100;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-BlackItalic.dc2aeed524020417e75e.woff2) format("woff2"),url(SourceSansPro-BlackItalic.23ac2cb303e520d9dae1.woff) format("woff");font-weight:900;font-style:italic;font-display:swap}@font-face{font-family:Source-Sans-Pro-Bold;src:url(SourceSansPro-Bold.0c995bef8bf72442d796.woff2) format("woff2"),url(SourceSansPro-Bold.91f9f2e61630c9aa1404.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Black.0909c2844da7ecd1d03d.woff2) format("woff2"),url(SourceSansPro-Black.f18ac4042ae8e0afd62e.woff) format("woff");font-weight:900;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-BoldItalic.ef8fdb1ec6ba81eaa0ed.woff2) format("woff2"),url(SourceSansPro-BoldItalic.097e86e5c1a9d40ae43e.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-ExtraLight.a629a9c6cb4184fdbf52.woff2) format("woff2"),url(SourceSansPro-ExtraLight.f3fda02d13be37f04148.woff) format("woff");font-weight:200;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Italic.df0284f48bf82344e808.woff2) format("woff2"),url(SourceSansPro-Italic.0a5e990ac6ee1cbd5331.woff) format("woff");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-ExtraLightItalic.e18594a38c6a04711f56.woff2) format("woff2"),url(SourceSansPro-ExtraLightItalic.4a745a8610207e8d302b.woff) format("woff");font-weight:200;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Light.fda76ee47fb03c6f600c.woff2) format("woff2"),url(SourceSansPro-Light.9af3f18eb9e9a9513df6.woff) format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Regular.2002a425747f5a14e2ec.woff2) format("woff2"),url(SourceSansPro-Regular.30c47935a0d8eb4943fb.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-LightItalic.5fe22e53f5325a7be047.woff2) format("woff2"),url(SourceSansPro-LightItalic.80562f412fba0975d584.woff) format("woff");font-weight:300;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-SemiBoldItalic.f035d6a1c635cda6d11a.woff2) format("woff2"),url(SourceSansPro-SemiBoldItalic.5fd025fde03c4c25da3b.woff) format("woff");font-weight:600;font-style:italic;font-display:swap}@font-face{font-family:Source-Sans-Pro-SemiBold;src:url(SourceSansPro-SemiBold.ea12a4c1226398200b27.woff2) format("woff2"),url(SourceSansPro-SemiBold.2e8a8368205a8b773e32.woff) format("woff");font-weight:600;font-style:normal;font-display:swap}.container[_ngcontent-%COMP%]{text-align:center;padding:1em}.logo[_ngcontent-%COMP%]{width:150px;margin:0 auto}q[_ngcontent-%COMP%]{font-style:italic;quotes:"\xab " " \xbb"}.bg-color[_ngcontent-%COMP%]{background-color:#0d1111}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:30%}img[_ngcontent-%COMP%]{width:50px;height:50px}.light-color[_ngcontent-%COMP%]{background-color:#def2f1}.action-btn[_ngcontent-%COMP%]{border-radius:0}.mat-standard-chip[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff;border:1px solid #ddd}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#def2f1}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]:after{background:transparent}.mat-header-cell[_ngcontent-%COMP%]{font-size:16px!important;color:#17242a}.selector-btn-2[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#fff}.type-option[_ngcontent-%COMP%]{background:#def2f1!important;border:1px solid #def2f1;border-radius:5px;width:200px;font-size:16px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0!important;margin:0}[_nghost-%COMP%]     .mat-form-field-infix{border-top:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-flex{padding:5px .75em 0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.8em 0}[_nghost-%COMP%]     .mat-select{font-family:Source-Sans-Pro-Bold!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(0)}']}),o})()},{path:"add-new-notification",component:Y}];let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=p.Rb({type:o}),o.\u0275inj=p.Qb({imports:[[n.i.forChild(D)],n.i]}),o})();var N=a("vvyD"),R=a("9urI"),U=a("YUcS"),j=a("tk/3");let G=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=p.Rb({type:o}),o.\u0275inj=p.Qb({imports:[[f.c,z,R.a,N.a,U.a,j.c,e.l,e.v,S.b.forRoot()]]}),o})()}}]);