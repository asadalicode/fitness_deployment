(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"2yxt":function(e,t,n){"use strict";n.r(t),n.d(t,"ChatModule",function(){return re});var s=n("ofXK"),i=n("tyNb"),c=n("mrSG"),o=n("3Pt+"),a=n("Cgh+"),r=n("a1D+"),g=n("nBtZ"),h=n("Unv8"),l=n("wrQZ");class d{constructor(e,t,n,s,i,c){e?(this.thumbnail=e.thumbnail,this.id=e.id,this.name=e.name,this.message=e.message,this.time=e.time):(this.thumbnail=t,this.id=n,this.name=s,this.message=i,this.time=c),this.isBold=!1,this.isInit=!1,this.messageCounter=0,this.senderUserName=""}}class u{constructor(){this.id="",this.src="",this.message="",this.type=0,this.time=new Date,this.to="",this.from="",this.image="",this.isVideo=!1,this.videoLink=""}}var b=n("lJxs"),p=n("fXoL"),m=n("tk/3");let C=(()=>{class e{constructor(e){this.http=e}getCategories(e,t,n){return this.http.get(`/api/admin/category/getCategories?level=${e}&parent_id=${t}&flag=${n}`).pipe(Object(b.a)(e=>(e.data.unshift({id:0,name:"All"}),e.data=e.data.sort((e,t)=>e.id>t.id?1:-1),e.data.map(e=>({id:e.id,name:e.name})))))}getCompaniesByCategory(e){return this.http.get("/api/admin/user/getUserByCategory?category_id="+e).pipe(Object(b.a)(e=>{if(!e.error)return e.data.rows}))}}return e.\u0275fac=function(t){return new(t||e)(p.gc(m.b))},e.\u0275prov=p.Pb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var O=n("FBoY"),M=n("51+I"),_=n("AytR");class f{constructor(){this.threadId="",this.userId=""}}var P=n("XiUz");let v=(()=>{class e{constructor(e){this.eleRef=e}onKeyDown(e){e.shiftKey&&"Enter"===e.key&&console.log("shift ")}}return e.\u0275fac=function(t){return new(t||e)(p.Tb(p.m))},e.\u0275dir=p.Ob({type:e,selectors:[["","appNewline",""]],hostBindings:function(e,t){1&e&&p.kc("keydown.shift.enter",function(e){return t.onKeyDown(e)})}}),e})();var y=n("bTqV"),x=n("NFeN"),w=n("ogi/"),Q=n("znSr"),L=n("u1LK");const I=["searchInput"];function k(e,t){if(1&e){const e=p.ac();p.Zb(0,"button",27),p.kc("click",function(){return p.Gc(e),p.oc().monitorUsersChat()}),p.Qc(1,"\n          Monitor Chats\n        "),p.Yb()}}function D(e,t){if(1&e){const e=p.ac();p.Xb(0),p.Qc(1,"\n          "),p.Zb(2,"div",28),p.Qc(3,"\n            "),p.Zb(4,"button",29),p.kc("click",function(){return p.Gc(e),p.oc().onTypeClicked("User")}),p.Qc(5,"\n              "),p.Ub(6,"input",30),p.Qc(7,"\n              "),p.Zb(8,"label",31),p.Qc(9," User "),p.Yb(),p.Qc(10,"\n            "),p.Yb(),p.Qc(11,"\n            "),p.Zb(12,"button",32),p.kc("click",function(){return p.Gc(e),p.oc().onTypeClicked("Coach")}),p.Qc(13,"\n              "),p.Ub(14,"input",33),p.Qc(15,"\n              "),p.Zb(16,"label",34),p.Qc(17,"Coach "),p.Yb(),p.Qc(18,"\n            "),p.Yb(),p.Qc(19,"\n          "),p.Yb(),p.Qc(20,"\n        "),p.Wb()}}function U(e,t){if(1&e){const e=p.ac();p.Qc(0,"\n          "),p.Zb(1,"button",32),p.kc("click",function(){return p.Gc(e),p.oc().onTypeClicked("User")}),p.Qc(2,"\n            Back to chats\n          "),p.Yb(),p.Qc(3,"\n        ")}}function S(e,t){if(1&e){const e=p.ac();p.Zb(0,"mat-icon",35),p.kc("click",function(){return p.Gc(e),p.oc().closeSearch()}),p.Qc(1,"clear"),p.Yb()}}function F(e,t){1&e&&(p.Zb(0,"div",36),p.Qc(1,"\n              "),p.Qc(2,"\n              "),p.Qc(3,"\n            "),p.Yb())}function T(e,t){1&e&&p.Ub(0,"div")}function Y(e,t){1&e&&(p.Zb(0,"div",37),p.Qc(1,"\n              "),p.Ub(2,"app-loader",38),p.Qc(3,"\n            "),p.Yb()),2&e&&(p.Fb(2),p.vc("isLoading",!0))}function Z(e,t){if(1&e&&(p.Zb(0,"div",50),p.Qc(1,"\n                      "),p.Ub(2,"img",51),p.Qc(3,"\n                      "),p.Ub(4,"span",52),p.Qc(5,"\n                    "),p.Yb()),2&e){const e=p.oc(2).$implicit;p.Fb(2),p.vc("src",e.thumbnail,p.Ic),p.Fb(2),p.vc("ngClass",1==(null==e?null:e.isOnline)?"status_image_online":"status_image_offline")}}function E(e,t){if(1&e&&(p.Zb(0,"span",53),p.Qc(1),p.Yb()),2&e){const e=p.oc(2).$implicit;p.Fb(1),p.Rc(e.messageCounter)}}function B(e,t){if(1&e){const e=p.ac();p.Zb(0,"div",42),p.Qc(1,"\n                  "),p.Zb(2,"input",43),p.kc("click",function(){p.Gc(e);const t=p.oc().$implicit;return p.oc(2).selectedChat(t)}),p.Yb(),p.Qc(3,"\n                  "),p.Zb(4,"label",44),p.Qc(5,"\n                    "),p.Oc(6,Z,6,2,"div",45),p.Qc(7,"\n                    "),p.Zb(8,"div"),p.Qc(9,"\n                      "),p.Ub(10,"h5",46),p.pc(11,"truncateString"),p.Qc(12,"\n                      "),p.Zb(13,"p",47),p.Qc(14),p.pc(15,"truncateString"),p.Yb(),p.Qc(16,"\n                      "),p.Zb(17,"span",48),p.Qc(18),p.pc(19,"date"),p.Yb(),p.Qc(20,"\n                      "),p.Oc(21,E,2,1,"span",49),p.Qc(22,"\n                    "),p.Yb(),p.Qc(23,"\n                  "),p.Yb(),p.Qc(24,"\n                "),p.Yb()}if(2&e){const e=p.oc().$implicit,t=p.oc(2);p.Fb(2),p.vc("id",e.id)("hidden",!t.searchEnabled),p.Fb(2),p.vc("for",e.id),p.Fb(2),p.vc("ngIf",!t.monitorChatsEnabled),p.Fb(2),p.Hb(t.monitorChatsEnabled?"details pl-3":"details"),p.Fb(2),p.vc("innerHtml",t.monitorChatsEnabled?e.name:p.rc(11,12,e.name,15),p.Hc),p.Fb(3),p.Lc("font-weight",null!=e&&e.isBold?"bold":"100"),p.Fb(1),p.Sc("\n                        ",p.rc(15,15,e.message,15),"\n                      "),p.Fb(4),p.Rc(p.rc(19,18,e.time,"shortTime")),p.Fb(3),p.vc("ngIf",0!==e.messageCounter)}}function j(e,t){if(1&e&&(p.Zb(0,"div",40),p.Qc(1,"\n                "),p.Oc(2,B,25,21,"div",41),p.Qc(3,"\n              "),p.Yb()),2&e){const e=t.$implicit;p.Fb(2),p.vc("ngIf",null!=(null==e?null:e.id))}}function R(e,t){if(1&e&&(p.Xb(0),p.Qc(1,"\n              "),p.Oc(2,j,4,1,"div",39),p.Qc(3,"\n            "),p.Wb()),2&e){const e=p.oc();p.Fb(2),p.vc("ngForOf",e.recentMessagesList)("ngForTrackBy",e.trackByMessage)}}function A(e,t){if(1&e&&(p.Zb(0,"div",50),p.Qc(1,"\n                      "),p.Ub(2,"img",51),p.Qc(3,"\n                      "),p.Ub(4,"span",52),p.Qc(5,"\n                    "),p.Yb()),2&e){const e=p.oc(2),t=e.$implicit,n=e.index;p.Fb(2),p.vc("src",null==t[n]?null:t[n].thumbnail,p.Ic),p.Fb(2),p.vc("ngClass",1==(null==t?null:t.isOnline)?"status_image_online":"status_image_offline")}}function G(e,t){if(1&e){const e=p.ac();p.Zb(0,"div",42),p.Qc(1,"\n                  "),p.Zb(2,"input",56),p.kc("click",function(){p.Gc(e);const t=p.oc().$implicit;return p.oc(2).selectedChat(t)}),p.Yb(),p.Qc(3,"\n                  "),p.Zb(4,"label",44),p.Qc(5,"\n                    "),p.Oc(6,A,6,2,"div",45),p.Qc(7,"\n                    "),p.Zb(8,"div"),p.Qc(9,"\n                      "),p.Ub(10,"h5",57),p.pc(11,"truncateString"),p.Qc(12,"\n                      "),p.Zb(13,"p",47),p.Qc(14),p.pc(15,"truncateString"),p.Yb(),p.Qc(16,"\n                      "),p.Zb(17,"span",48),p.Qc(18),p.pc(19,"date"),p.Yb(),p.Qc(20,"\n                    "),p.Yb(),p.Qc(21,"\n                  "),p.Yb(),p.Qc(22,"\n                "),p.Yb()}if(2&e){const e=p.oc().$implicit,t=p.oc(2);p.Fb(2),p.vc("id",null==e?null:e.id),p.Fb(2),p.vc("for",null==e?null:e.id),p.Fb(2),p.vc("ngIf",!t.monitorChatsEnabled),p.Fb(2),p.Hb(t.monitorChatsEnabled?"details pl-3":"details"),p.Fb(2),p.vc("innerHtml",t.monitorChatsEnabled?null==e?null:e.name:p.rc(11,8,null==e?null:e.name,15),p.Hc),p.Fb(4),p.Sc("\n                        ",p.rc(15,11,null==e?null:e.message,10),"\n                      "),p.Fb(4),p.Rc(p.rc(19,14,null==e?null:e.time,"shortTime"))}}function H(e,t){if(1&e&&(p.Zb(0,"div",55),p.Qc(1,"\n                "),p.Oc(2,G,23,17,"div",41),p.Qc(3,"\n              "),p.Yb()),2&e){const e=t.$implicit;p.Fb(2),p.vc("ngIf",null!=(null==e?null:e.id))}}function $(e,t){if(1&e&&(p.Xb(0),p.Qc(1,"\n              "),p.Oc(2,H,4,1,"div",54),p.Qc(3,"\n            "),p.Wb()),2&e){const e=p.oc();p.Fb(2),p.vc("ngForOf",e.recentMessagesList)}}function z(e,t){if(1&e&&(p.Zb(0,"div",50),p.Qc(1,"\n              "),p.Ub(2,"img",51),p.Qc(3,"\n            "),p.Yb()),2&e){const e=p.oc(2);p.Fb(2),p.vc("src",null==e.selectedChatData?null:e.selectedChatData.thumbnail,p.Ic)}}function N(e,t){if(1&e&&(p.Xb(0),p.Qc(1,"\n          "),p.Zb(2,"div",58),p.Qc(3,"\n            "),p.Oc(4,z,4,1,"div",45),p.Qc(5,"\n            "),p.Zb(6,"div",59),p.Qc(7,"\n              "),p.Ub(8,"h5",57),p.Qc(9,"\n              "),p.Zb(10,"div",60),p.Qc(11),p.Yb(),p.Qc(12,"\n            "),p.Yb(),p.Qc(13,"\n          "),p.Yb(),p.Qc(14,"\n        "),p.Wb()),2&e){const e=p.oc();p.Fb(4),p.vc("ngIf",!e.monitorChatsEnabled),p.Fb(4),p.vc("innerHtml",e.monitorChatsEnabled?e.selectedChatTitle:null==e.selectedChatData?null:e.selectedChatData.name,p.Hc),p.Fb(3),p.Rc(null==e.selectedChatData?null:e.selectedChatData.online)}}function K(e,t){1&e&&(p.Zb(0,"div",60),p.Qc(1,"Active Now"),p.Yb())}function V(e,t){if(1&e&&(p.Xb(0),p.Qc(1,"\n          "),p.Zb(2,"div",61),p.Qc(3,"\n            "),p.Zb(4,"div",62),p.Qc(5,"\n              "),p.Zb(6,"div",50),p.Qc(7,"\n                "),p.Ub(8,"img",63),p.Qc(9,"\n              "),p.Yb(),p.Qc(10,"\n              "),p.Zb(11,"div",59),p.Qc(12,"\n                "),p.Ub(13,"h5",57),p.Qc(14,"\n                "),p.Oc(15,K,2,0,"div",64),p.Qc(16,"\n              "),p.Yb(),p.Qc(17,"\n            "),p.Yb(),p.Qc(18,"\n          "),p.Yb(),p.Qc(19,"\n        "),p.Wb()),2&e){const e=p.oc();p.Fb(8),p.vc("src",null==e.selectedChatData?null:e.selectedChatData.thumbnail,p.Ic),p.Fb(5),p.vc("innerHtml",e.selectedChatData.name,p.Hc),p.Fb(2),p.vc("ngIf",!e.monitorChatsEnabled)}}function X(e,t){1&e&&(p.Zb(0,"div",37),p.Qc(1,"\n            "),p.Ub(2,"app-loader",38),p.Qc(3,"\n          "),p.Yb()),2&e&&(p.Fb(2),p.vc("isLoading",!0))}function W(e,t){if(1&e&&(p.Zb(0,"div"),p.Qc(1,"\n                "),p.Ub(2,"img",69),p.Qc(3,"\n              "),p.Yb()),2&e){const e=p.oc(2).$implicit;p.Fb(2),p.wc("src",null==e?null:e.image,p.Ic)}}function J(e,t){if(1&e&&p.Ub(0,"video",73),2&e){const e=p.oc(3).$implicit;p.vc("src",null==e?null:e.videoLink,p.Ic)}}function q(e,t){if(1&e&&(p.Zb(0,"span",68),p.Qc(1),p.Yb()),2&e){const e=p.oc(3).$implicit;p.Fb(1),p.Rc(null!=e&&e.isRead?"Read":"Delivered")}}function ee(e,t){if(1&e&&(p.Zb(0,"div",70),p.Qc(1,"\n                "),p.Oc(2,J,1,1,"video",71),p.Qc(3,"\n                "),p.Zb(4,"p"),p.Qc(5),p.Yb(),p.Qc(6,"\n                "),p.Oc(7,q,2,1,"span",72),p.Qc(8,"\n              "),p.Yb()),2&e){const e=p.oc(2).$implicit,t=p.oc();p.Fb(2),p.vc("ngIf",null==e?null:e.isVideo),p.Fb(3),p.Rc(null==e?null:e.message),p.Fb(2),p.vc("ngIf",1===e.type&&!t.monitorChatsEnabled)}}function te(e,t){if(1&e&&(p.Zb(0,"div",66),p.Qc(1,"\n              "),p.Oc(2,W,4,1,"div",17),p.Qc(3,"\n              "),p.Oc(4,ee,9,3,"div",67),p.Qc(5,"\n              "),p.Zb(6,"div",68),p.Qc(7),p.pc(8,"date"),p.Yb(),p.Qc(9,"\n            "),p.Yb()),2&e){const e=p.oc().$implicit;p.vc("fxLayout",1==e.type?"row-reverse":"row")("ngClass",1==e.type?"message-send":"message-recieved"),p.Fb(2),p.vc("ngIf",null==e?null:e.image),p.Fb(2),p.vc("ngIf",null==e?null:e.message),p.Fb(3),p.Sc("\n                ",p.rc(8,5,e.time,"shortTime"),"\n              ")}}function ne(e,t){if(1&e&&(p.Xb(0),p.Qc(1,"\n            "),p.Oc(2,te,10,8,"div",65),p.Qc(3,"\n          "),p.Wb()),2&e){const e=t.$implicit;p.Fb(2),p.vc("ngIf",""!==e.id)}}const se=[{path:"",component:(()=>{class e{constructor(e,t,n,s,i,c){this.formBuilder=e,this._userServiceDb=t,this._threadServiceDb=n,this._chatService=s,this._chatHelper=i,this.dataService=c,this.textMessage="",this.searchEnabled=!1,this.counterSnapDB=!1,this.currentUserID=localStorage.getItem(a.a.firebase_key),this.userType="User",this.selectedChatData={},this.AllUsers=[],this.recentMessagesList=[new d],this.userThreads=[],this.messagesHistory=[new u],this.isLoading=!1,this.isMessagesLoading=!1,this.selectedCategory="All",this.isDisabled=!0,this.debounce=a.a.Instance,this.isRunningFirstTime=!0,this.usersList=[],this.observableThreads=new Array,this.currentlyObservingThreads=new Array,this.monitorChatsEnabled=!1,this.credentials=new Object,this.selectedChatTitle="",this.observerReceiver=(e=!0)=>{let t=[],n=[];this.observableThreads.length>0&&(this.observableThreads.forEach(s=>{e?this.currentlyObservingThreads.some(e=>e.threadId===s.threadId&&e.userId===s.userId)||(n.push(()=>{this.updateStatus(s.userId)}),t.push(()=>{this.receiveMessage(s.threadId)}),this.currentlyObservingThreads.push(s)):(this._threadServiceDb.unSubUsersThreads(s.threadId),this._userServiceDb.unSubUserStatusAdded(s.userId))}),t.forEach(e=>{this.executeArrayMethod(e)}),n.forEach(e=>{this.executeArrayMethod(e)}))},this.receiveMessage=e=>{this._threadServiceDb.onUpdateUsersThreads(e,e=>{var t,n;let s=!(!e||!e.exists()),i=e.ref.parent.parent.key,c=e.val(),o=this.recentMessagesList.find(e=>e.id===i);2===c.type&&(c.meta.text="video: "+(null===(n=null===(t=null==c?void 0:c.meta)||void 0===t?void 0:t.extraMap)||void 0===n?void 0:n.reason)),s=c.from!==this.currentUserID&&c.meta.text,s?(console.log(this.selectedChatData),this.selectedChatData.id===i&&o.isInit?(this.recentMessagesList[this.recentMessagesList.indexOf(o)].time=new Date(c.date),this.updateUIwithMessage(c.meta.text,new Date(c.date),e.key,2,i,2===c.type)):(this.recentMessagesList[this.recentMessagesList.indexOf(o)].messageCounter=2!==c.read[this.currentUserID].status&&o.isInit?o.messageCounter+1:o.messageCounter,this.recentMessagesList[this.recentMessagesList.indexOf(o)].isInit=!0,this.recentMessagesList[this.recentMessagesList.indexOf(o)].time=new Date(c.date))):(this.recentMessagesList[this.recentMessagesList.indexOf(o)].time=new Date(c.date),this.recentMessagesList[this.recentMessagesList.indexOf(o)].isInit=!0,this.recentMessagesList[this.recentMessagesList.indexOf(o)].message=c.meta.text),this.ShowOnTop(i,c)})}}ngOnInit(){this.credentials=JSON.parse(sessionStorage.getItem("fitness_credentials")),console.log(this.credentials),this.InitList()}getCategories(e,t,n){this.categories=this._chatService.getCategories(e,t,n)}trackByMessage(e,t){return t.message}updateStatus(e){this._userServiceDb.onUserStatusAdded(e,t=>{if(t.exists()){let n=this.currentlyObservingThreads.find(t=>t.userId===e),s=this.recentMessagesList.findIndex(e=>e.id===(null==n?void 0:n.threadId));"online"===t.key&&(this.recentMessagesList[s].isOnline=t.val())}}),this._userServiceDb.onUserStatusRemoved(e,t=>{if(t.exists()){let n=this.currentlyObservingThreads.find(t=>t.userId===e),s=this.recentMessagesList.findIndex(e=>e.id===(null==n?void 0:n.threadId));"online"===t.key&&(this.recentMessagesList[s].isOnline=!1)}})}executeArrayMethod(e){e()}InitList(){let e=0;this.isLoading=!0,this.observableThreads=[],this.currentlyObservingThreads=[],this._userServiceDb.getCurrentUser().then(t=>{let n=[];if(t.exists()&&(this.currentUser=t.val(),this.currentUser.hasOwnProperty("threads"))){let t=this.currentUser.threads;this.userThreads=Object.keys(this.currentUser.threads),this.userThreads.forEach((s,i)=>Object(c.e)(this,void 0,void 0,function*(){var c,o,a;let r=t[s].invitedBy,g=yield yield this._threadServiceDb.getThread(s);if(r===this.currentUserID){let e=g.val();r=Object.keys(e.users).filter(e=>e!=this.currentUserID)[0]}let h=yield this._userServiceDb.getSpecificUser(r);if(h.exists()){let t=h.val(),i=Object.keys(t).filter(e=>"last-online"===e||"last_online"===e);if(t.meta.hasOwnProperty("userType")&&this.userType.toLowerCase()===t.meta.userType.toLowerCase()){let r=new f;e=0;let l=g.child("messages").toJSON(),d=Object.keys(l),u=0;for(let t=d.length-1;t>0&&(0===t&&(u=null===(c=l[d[t]])||void 0===c?void 0:c.date),0===(null===(a=null===(o=l[d[t]])||void 0===o?void 0:o.read[this.currentUserID])||void 0===a?void 0:a.status));t-=1)e+=1;r.threadId=s,r.userId=h.key,this.observableThreads.push(r);let b={name:this.getvaluebyKey(2,t.meta),thumbnail:_.a.image_url+"/"+t.meta.pictureURL,id:s,time:this._chatHelper.tryParseDate(u)||this._chatHelper.tryParseDate(t[i[0]]),userID:h.key,isBold:!1,isOnline:t.online,isInit:!1,messageCounter:e};n.push(b)}}n.length>0&&i===this.userThreads.length-1&&(this.isDisabled=!0,this.recentMessagesList=n,this.recentMessagesList=this._chatHelper.ArraySortByKey(this.recentMessagesList,"time"),this.tempRecentMessage=this.recentMessagesList,this.selectedChat(this.recentMessagesList[1]),this.debounce.executeDebounce(()=>{this.observerReceiver(),this.onNewThread()}))}))}this.isLoading=!1}),this.createGroupForm()}monitorUsersChat(){this.recentMessagesList=[new d];let e=new Array;this.monitorChatsEnabled=!0,this._userServiceDb.getAllUsers(t=>{let n=t.toJSON();delete n[this.currentUserID];let s=Object.values(n),i=Object.keys(n);this.selectedChatData=null,s.forEach((t,n)=>{if(t.hasOwnProperty("meta")&&t.hasOwnProperty("threads")){let s=Object.keys(t.threads);s.forEach((c,o)=>{this._threadServiceDb.getThread(c).then(a=>{let r=a.val();if(!r.users.hasOwnProperty("admin")){if(r.hasOwnProperty("messages")){let s=new d;s.id=c,s.senderUserName=i[n],s.name=t.meta.name,s.thumbnail=t.meta.pictureURL,s.isBold=!1,s.isOnline=!1;let o=Object.keys(r.users).find(e=>e!==i[n]);s.name=`<span>${t.meta.name} <img class='pl-2 pr-2' src='assets/arrow-icon.svg' alt='->'> ${r.users[o].name}</span>`,e.includes(c)||(e.push(c),this.recentMessagesList.push(s))}o===s.length-1&&(this.tempRecentMessage=this.recentMessagesList,this.selectedChat(this.recentMessagesList[1]))}})})}})})}onTypeClicked(e){this.searchEnabled=!1,this.searchInput.nativeElement.value="",this.userType=e,this.monitorChatsEnabled=!1,this.messagesHistory=[new u],this.selectedChatData=new Object,this.recentMessagesList=[new d],this.observerReceiver(!1),this.InitList()}onNewThread(){this._userServiceDb.onNewThread(this.currentUserID,e=>{if(e.exists()){let t=e.val();0===this.recentMessagesList.filter(t=>t.id===e.key).length&&t.hasOwnProperty("invitedBy")&&t.invitedBy!==this.currentUserID&&this._userServiceDb.getSpecificUser(t.invitedBy).then(t=>{if(t.exists()){let n=t.val(),s=Object.keys(n).filter(e=>"last-online"===e||"last_online"===e),i=Object.keys(n.meta),c={name:n.meta[i[1]],thumbnail:_.a.image_url+"/"+n.meta.pictureURL,id:e.key,time:this._chatHelper.tryParseDate(n[s[0]]),isBold:!1,isInit:!1,messageCounter:0};if(n.meta.hasOwnProperty("userType")&&this.userType.toLowerCase()===n.meta.userType.toLowerCase()){let n=new f;n.threadId=e.key,n.userId=t.key,this.recentMessagesList.unshift(c),this.tempRecentMessage=this.recentMessagesList,this.selectedChat(this.recentMessagesList[0]),this.observableThreads.push(n),this.observerReceiver()}}})}})}closeSearch(){this.searchEnabled=!1,this.searchInput.nativeElement.value="",this.recentMessagesList=this.tempRecentMessage}SearchAllUsers(e){this.isDisabled=!0,this.selectedCategory="All",this.recentMessagesList=[new d],this.messagesHistory=[new u],this.debounce.executeDebounce(()=>{if(this.isLoading=!0,this.monitorChatsEnabled){let t=this.tempRecentMessage.slice(1);this.recentMessagesList=t.filter(t=>{var n,s;return console.log(t),null===(s=null===(n=null==t?void 0:t.name)||void 0===n?void 0:n.toLowerCase())||void 0===s?void 0:s.includes(e)})}else{let t=[];this._userServiceDb.getAllUsers(n=>{let s=n.val();Object.keys(s).filter(e=>e!=localStorage.getItem(a.a.firebase_key)).forEach(n=>{let i=s[n],c=Object.keys(i);if(!i.hasOwnProperty("meta"))return;let o=i.meta,a=c.filter(e=>"last-online"===e||"last_online"===e);o.hasOwnProperty("userType")||(o.userType="User");let r=this.tempRecentMessage.find(e=>e.name===this.getvaluebyKey(2,o));if((""===e||this.getvaluebyKey(2,o).toLowerCase().includes(e.toLowerCase()))&&this.userType.toLowerCase()===o.userType.toLowerCase()){let e={name:this.getvaluebyKey(2,o),thumbnail:_.a.image_url+"/"+o.pictureURL,id:r?r.id:n,time:this._chatHelper.tryParseDate(i[a[0]]),isOnline:i.online};t.push(e)}}),this.recentMessagesList=t})}this.isLoading=!1},1e3)}loadLatestChatValues(){this.InitList(),this.counterSnapDB=!1}isnewChat(e){return Object(c.e)(this,void 0,void 0,function*(){let t=!1;if(this.counterSnapDB&&this.loadLatestChatValues(),e){let n=yield yield this._userServiceDb.getSpecificUser(e.id);if(n.exists()&&this.currentUser){let e=this.currentUser,s=n.val(),i=Object.keys(e);["last_online","meta","online","threads"].map(t=>{Object.keys(e).includes(t)||(i.push(t),e=Object.assign({},i),this.counterSnapDB=!0)});let c=Object.keys(s),o=s[c[c.length-1]],a=Object.keys(e[i[i.length-1]]||[]).filter(e=>-1!==Object.keys(o).indexOf(e));this.userChatThread=a,t=!(a.length>0)}}return t})}sendMessage(e){return Object(c.e)(this,void 0,void 0,function*(){if(e=e.trim(),this.monitorChatsEnabled)return;let t=this.getSelectedGroup.length>0?this.getSelectedGroup.length:1;if(null!=e&&""!==e){for(let n=0;n<t;n++)if(yield yield this.isnewChat(this.getSelectedGroup[n])){let s=new O.d,i={creation_date:(new Date).getTime().toString(),creator:this.currentUserID,creator_entity_id:this.currentUserID,type:2,type_v4:2,name:this.getvaluebyKey(2,this.currentUser.meta)},c=new Array(this.getSelectedGroup[n].id),o=new O.b;o.date=(new Date).getTime(),o.from=this.currentUserID,o.meta={text:e},o.to=c,o.type=0,o.read[c[0]]=new O.a,o.read[this.currentUserID]=new O.a,o.read[this.currentUserID].status=2,o.user_firebase_id=this.currentUserID,s.detail=i,s.meta=i,s.users[this.currentUserID]=new O.c(O.c.owner),s.users[this.getSelectedGroup[n].id]=new O.c(O.c.member);let a=yield this._threadServiceDb.createnewThread(s),r=yield this._threadServiceDb.createMessageThread(o,a.key);c.push(this.currentUserID),this.updateUsersThreads(c,a.key),n===t-1&&this.updateUIwithMessage(e,new Date(o.date),r.key,1)}else{if(!this.searchEnabled&&!this.selectedChatData.hasOwnProperty("id"))return;let s=this.selectedChatData?this.selectedChatData:this.tempRecentMessage.find(e=>e.userID===this.getSelectedGroup[n].id),i=s?s.id:this.userChatThread[0],c=new O.b;c.date=(new Date).getTime(),c.from=this.currentUserID,c.meta={text:e},c.read[this.currentUserID]=new O.a,c.read[this.currentUserID].status=2,s&&this.recepitentUserIDb?c.to.push(this.recepitentUserIDb):c.to=this.getSelectedGroup.map(e=>e.id),c.read[this.recepitentUserIDb]=new O.a,c.read[this.recepitentUserIDb].status=1,c.type=0,c.user_firebase_id=this.currentUserID;let o=yield this._threadServiceDb.createMessageThread(c,i);i="",n===t-1&&this.updateUIwithMessage(e,new Date(c.date),o.key,1)}this.isDisabled=!0}})}updateUIwithMessage(e,t,n,s,i,c=!1,o=""){let a=new u;console.log(o),a.id=n,a.message=e,a.time=t,a.type=s,a.isVideo=c,a.videoLink=o,this.messagesHistory.push(a),this.textMessage="",i&&(this.recentMessagesList.map(t=>(t.id===i&&(t.isBold=2===s,t.message=e),t)),this.ShowOnTop(i,e))}ShowOnTop(e,t){let n=this.recentMessagesList.find(t=>t.id===e);n.isBold&&(n.isBold=!0),n.message=t.meta.text,this.recentMessagesList=this._chatHelper.ArraySortByKey(this.recentMessagesList,"time",2)}updateUsersThreads(e,t){e.forEach(e=>Object(c.e)(this,void 0,void 0,function*(){let n=new Object;n[t]={invitedBy:localStorage.getItem(a.a.firebase_key)},yield this._userServiceDb.updateUserThread(e,n),this.currentUser.threads[Object.keys(n)[0]]=n[Object.keys(n)[0]]}))}createGroupForm(){this.form=this.formBuilder.group({group:new o.d([])})}getvaluebyKey(e,t){return t[Object.keys(t)[e]]}get groupFormArray(){return this.form.controls.group}onCheckBoxClicked(e){let t=this.groupFormArray.controls[e];t.setValue(!t.value),this.isDisabled=!1}handleShiftEnter(e){}onInput(e){this.isDisabled=!e||""===e||!(!(this.selectedChatData instanceof d)||this.searchEnabled&&0===this.getSelectedGroup.length)}get getSelectedGroup(){return this.form.value.group.map((e,t)=>e?this.recentMessagesList[t]:null).filter(e=>null!==e)}changeReadStatus(e,t){this._threadServiceDb.readStatusfromMessage(t,e)}selectedChat(e){let t=e.name.includes("->")?e.senderUserName:this.currentUserID;this.messagesHistory=[new u],this.isMessagesLoading=!0,null!=e?(this.recentMessagesList[this.recentMessagesList.indexOf(e)].isBold=!1,this.recentMessagesList[this.recentMessagesList.indexOf(e)].messageCounter=0,this.selectedChatData=e,this.selectedChatData.isBold=!1,this._threadServiceDb.getThread(e.id).then(n=>{try{if(n.exists()){let s=n.val(),i=Object.keys(s.users);this.recepitentUserIDb=i.filter(e=>e!=t)[0];let c=[],o=s.messages,a=Object.keys(s.messages);a.forEach((n,s)=>{var i,r;let g=o[n];if(""!==g.meta.text){if(g.hasOwnProperty("read")&&!this.monitorChatsEnabled){let s=g.read[t];s&&0===s.status&&this.changeReadStatus(n,e.id)}let o=new u;o.id=n,o.message=2===g.type?null===(r=null===(i=g.meta)||void 0===i?void 0:i.extraMap)||void 0===r?void 0:r.reason:g.meta.text,o.type=g.from===t?1:2,o.src=_.a.image_url+"/"+e.thumbnail,o.time=this._chatHelper.tryParseDate(g.date),o.from=g.from,o.to=g.to[0],o.isVideo=2===g.type,2===g.type&&(o.videoLink=`${_.a.sasContainerUrl}/${g.meta["video-url"]}${_.a.sasTokenUrl}`),c.push(o),s===a.length-1&&(this._userServiceDb.getSpecificUser(this.recepitentUserIDb).then(t=>{if(t.exists()){let n=t.val();if(c=c.map(t=>(t.image=this.monitorChatsEnabled?1===t.type?_.a.image_url+"/"+this.recentMessagesList[this.recentMessagesList.indexOf(e)].thumbnail:_.a.image_url+"/"+n.meta.pictureURL:1===t.type?this.currentUser.meta.pictureURL:this.recentMessagesList[this.recentMessagesList.indexOf(e)].thumbnail,t)),this.monitorChatsEnabled){let t=this.selectedChatData.name.split("<img class='pl-2 pr-2' src='assets/arrow-icon.svg' alt='->'>");t[1]=`<img class='pr-2 pl-2 chatImg' src='${_.a.image_url+"/"+n.meta.pictureURL}' onError="this.src='https://via.placeholder.com/50'"> ${t[1]}`,t[0]=` <img class='pl-2 pr-2 chatImg' src='${_.a.image_url+"/"+this.recentMessagesList[this.recentMessagesList.indexOf(e)].thumbnail}' onError="this.src='https://via.placeholder.com/50'"> ${t[0]}`,this.selectedChatTitle=t.join("<img class='pl-2 pr-2' src='assets/arrow-icon.svg' alt='->'>")}}}),c=this._chatHelper.ArraySortByKey(c,"time"),this.messagesHistory=c)}})}}catch(s){console.error(s)}this.isMessagesLoading=!1})):this.isMessagesLoading=!1}selectAll(e){this.groupFormArray.controls.map(t=>(t.setValue(e),t))}changeCategories(e){this.isLoading=!0,"All"===this.selectedCategory&&(this.tempRecentMessage=this.recentMessagesList),this.selectedCategory=e.name,this.recentMessagesList=[new d],"All"!==e.name?this._chatService.getCompaniesByCategory(e.id).subscribe(e=>{this.isLoading=!1;let t=[];e&&(e.forEach(e=>{let n=this.tempRecentMessage.find(t=>t.id===e.firebase_key);n&&t.push(n)}),this.recentMessagesList=t)}):(this.isLoading=!1,this.recentMessagesList=this.tempRecentMessage)}getAllUsers(){this.dataService.get_WithoutCount("/notification/get_all_users",M.a).subscribe(e=>Object(c.e)(this,void 0,void 0,function*(){this.usersList=e}),e=>{})}}return e.\u0275fac=function(t){return new(t||e)(p.Tb(o.f),p.Tb(l.a),p.Tb(h.a),p.Tb(C),p.Tb(r.a),p.Tb(g.a))},e.\u0275cmp=p.Nb({type:e,selectors:[["app-chat"]],viewQuery:function(e,t){if(1&e&&p.Uc(I,1),2&e){let e;p.Cc(e=p.lc())&&(t.searchInput=e.first)}},decls:86,vars:19,consts:[[1,"page","custom-page"],[1,"container-fluid"],[1,"row","mt-3"],[1,"col-md-12","d-flex","justify-content-between","align-items-center"],[1,"head"],["style","margin-left: 44vw","class","swipe-bg save-btn text-white version-btn",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["backToChat",""],["fxLayout","row","fxLayoutGap","10px",1,"inbox","mt-3"],[1,"inbox-users"],[1,"search-box"],[1,"form-group","p-2"],["type","text","placeholder","Search",1,"form-control",3,"focus","click","input"],["searchInput",""],[3,"click",4,"ngIf"],[1,"recent-messages"],["class","checkbox","ngbDropdown","",4,"ngIf"],[4,"ngIf"],["class","p-5","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],[1,"chat-history"],[1,"message-body",3,"scrollTop"],["scrollMe",""],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","10px",1,"send-message"],["placeholder","Type a message","name","message","type","text","cols","40","rows","1","appNewline","",1,"form-control","textAreaMessage",3,"ngModel","disabled","keyup.enter","keydown.enter","ngModelChange","input"],["mat-flat-button","",1,"btn","btn-primary","save-btn",3,"disabled","click"],["svgIcon","send",1,"pb-1","pl-2"],[1,"swipe-bg","save-btn","text-white","version-btn",2,"margin-left","44vw",3,"click"],["fxLayoutGap","10px",1,"swipe-bg","filterby"],["mat-flat-button","",1,"save-btn","text-white","version-btn",3,"click"],["checked","","type","radio","id","persons","name","filterby","hidden",""],["for","persons"],["mat-flat-button","",1,"save-btn","disabled-btn","text-white","version-btn",3,"click"],["type","radio","id","companies","name","filterby","hidden",""],["for","companies"],[3,"click"],["ngbDropdown","",1,"checkbox"],["fxLayout","row","fxLayoutAlign","center center",1,"p-5"],["size","1.5",3,"isLoading"],["class","people",4,"ngFor","ngForOf","ngForTrackBy"],[1,"people"],["class","checkbox","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"checkbox"],["name","User","type","radio",3,"id","hidden","click"],["fxLayout","row","fxLayoutGap","10px",3,"for"],["class","image",4,"ngIf"],[1,"text-truncate",3,"innerHtml"],[1,"text-truncate"],[1,"message-time"],["class","counter",4,"ngIf"],[1,"image"],["alt","","onError","this.src='https://via.placeholder.com/50'",2,"height","50px","width","50px",3,"src"],[3,"ngClass"],[1,"counter"],["class","people multi",4,"ngFor","ngForOf"],[1,"people","multi"],["type","radio","hidden","","name","User",3,"id","click"],[3,"innerHtml"],["fxLayout","row","fxLayoutGap","10px",1,"heading"],[1,"details"],[1,"status"],["fxLayout","row","fxLayoutGap","10px",1,"heading","multi"],["fxLayout","row","fxLayoutGap","10px",1,"person"],["alt","","onError","this.src='https://via.placeholder.com/50'",3,"src"],["class","status",4,"ngIf"],["fxLayoutGap","25px",3,"fxLayout","ngClass",4,"ngIf"],["fxLayoutGap","25px",3,"fxLayout","ngClass"],["class","message-text",4,"ngIf"],[1,"time"],["width","3vw","alt","","onError","this.src='https://via.placeholder.com/50'",1,"chat-image",3,"src"],[1,"message-text"],["controls","",3,"src",4,"ngIf"],["class","time",4,"ngIf"],["controls","",3,"src"]],template:function(e,t){if(1&e&&(p.Zb(0,"div",0),p.Qc(1,"\n  "),p.Zb(2,"div",1),p.Qc(3,"\n    "),p.Zb(4,"div",2),p.Qc(5,"\n      "),p.Zb(6,"div",3),p.Qc(7,"\n        "),p.Zb(8,"div",4),p.Qc(9,"Chat"),p.Yb(),p.Qc(10,"\n        "),p.Oc(11,k,2,0,"button",5),p.Qc(12,"\n        "),p.Oc(13,D,21,0,"ng-container",6),p.Qc(14,"\n        "),p.Oc(15,U,4,0,"ng-template",null,7,p.Pc),p.Qc(17,"\n      "),p.Yb(),p.Qc(18,"\n    "),p.Yb(),p.Qc(19,"\n    "),p.Zb(20,"div",8),p.Qc(21,"\n      "),p.Zb(22,"div",9),p.Qc(23,"\n        "),p.Qc(24,"\n        "),p.Zb(25,"div",10),p.Qc(26,"\n          "),p.Zb(27,"div",11),p.Qc(28,"\n            "),p.Zb(29,"input",12,13),p.kc("focus",function(){return t.searchEnabled=!0})("click",function(e){return t.SearchAllUsers(e.target.value)})("input",function(e){return t.SearchAllUsers(e.target.value)}),p.Yb(),p.Qc(31,"\n            "),p.Oc(32,S,2,0,"mat-icon",14),p.Qc(33,"\n          "),p.Yb(),p.Qc(34,"\n          "),p.Ub(35,"hr"),p.Qc(36,"\n          "),p.Zb(37,"div",15),p.Qc(38,"\n            "),p.Oc(39,F,4,0,"div",16),p.Qc(40,"\n            "),p.Oc(41,T,1,0,"div",17),p.Qc(42,"\n            "),p.Oc(43,Y,4,1,"div",18),p.Qc(44,"\n\n            "),p.Qc(45,"\n            "),p.Oc(46,R,4,2,"ng-container",17),p.Qc(47,"\n\n            "),p.Qc(48,"\n            "),p.Oc(49,$,4,1,"ng-container",17),p.Qc(50,"\n          "),p.Yb(),p.Qc(51,"\n        "),p.Yb(),p.Qc(52,"\n        "),p.Qc(53,"\n      "),p.Yb(),p.Qc(54,"\n      "),p.Zb(55,"div",19),p.Qc(56,"\n        "),p.Qc(57,"\n        "),p.Oc(58,N,15,3,"ng-container",17),p.Qc(59,"\n\n        "),p.Oc(60,V,20,3,"ng-container",17),p.Qc(61,"\n\n        "),p.Qc(62,"\n        "),p.Zb(63,"div",20,21),p.Qc(65,"\n          "),p.Oc(66,X,4,1,"div",18),p.Qc(67,"\n          "),p.Oc(68,ne,4,1,"ng-container",22),p.Qc(69,"\n        "),p.Yb(),p.Qc(70,"\n\n        "),p.Qc(71,"\n        "),p.Zb(72,"div",23),p.Qc(73,"\n          "),p.Zb(74,"textarea",24),p.kc("keyup.enter",function(){return t.sendMessage(t.textMessage)})("keydown.enter",function(e){return e.preventDefault()})("ngModelChange",function(e){return t.textMessage=e})("input",function(e){return t.onInput(e.target.value)}),p.Yb(),p.Qc(75,"\n          "),p.Zb(76,"button",25),p.kc("click",function(){return t.sendMessage(t.textMessage)}),p.Qc(77,"\n            Send "),p.Ub(78,"mat-icon",26),p.Qc(79,"\n          "),p.Yb(),p.Qc(80,"\n        "),p.Yb(),p.Qc(81,"\n      "),p.Yb(),p.Qc(82,"\n    "),p.Yb(),p.Qc(83,"\n  "),p.Yb(),p.Qc(84,"\n"),p.Yb(),p.Qc(85,"\n")),2&e){const e=p.Dc(16),n=p.Dc(64);p.Fb(11),p.vc("ngIf",!t.monitorChatsEnabled&&t.credentials.is_super_admin),p.Fb(2),p.vc("ngIf",!t.monitorChatsEnabled)("ngIfElse",e),p.Fb(19),p.vc("ngIf",1==t.searchEnabled),p.Fb(7),p.vc("ngIf","User"!==t.userType&&t.searchEnabled),p.Fb(2),p.vc("ngIf",!t.searchEnabled),p.Fb(2),p.vc("ngIf",t.isLoading),p.Fb(3),p.vc("ngIf",!t.searchEnabled),p.Fb(3),p.vc("ngIf",t.searchEnabled),p.Fb(9),p.vc("ngIf",!t.searchEnabled),p.Fb(2),p.vc("ngIf",t.searchEnabled),p.Fb(3),p.Lc("margin-top",t.searchEnabled&&0===(null==t.getSelectedGroup?null:t.getSelectedGroup.length)?"8%":"0%"),p.vc("scrollTop",n.scrollHeight),p.Fb(3),p.vc("ngIf",t.isMessagesLoading),p.Fb(2),p.vc("ngForOf",t.messagesHistory),p.Fb(6),p.vc("ngModel",t.textMessage)("disabled",t.monitorChatsEnabled),p.Fb(2),p.vc("disabled",t.isDisabled||t.monitorChatsEnabled)}},directives:[s.n,P.c,P.d,s.m,o.c,v,o.p,o.s,y.a,x.a,P.b,w.a,s.l,Q.a],pipes:[L.a,s.e],styles:['[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}[_nghost-%COMP%]   .box-style[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%], [_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%], [_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{border-radius:4px;padding:10px 0;background:#fff}[_nghost-%COMP%]   .chat-image[_ngcontent-%COMP%]{width:55px!important;height:55px!important;border-radius:50%!important}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]{width:23vw}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{margin-bottom:15px;padding:20px 0}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{box-shadow:0 3px 6px rgba(0,0,0,.1607843137254902);border:none!important}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:22px;font-size:15px;right:12px;color:#9b9b9b}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]{height:calc(100vh - 245px);overflow-y:auto;width:23vw}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid rgba(0,0,0,.1607843137254902)}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid rgba(0,0,0,.1607843137254902)}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:50%;width:50px;height:50px}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .status_image_offline[_ngcontent-%COMP%]{content:"";width:10px;height:10px;border-radius:50%;position:absolute;background-color:#ddd;top:2px;right:0}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .status_image_online[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;position:absolute;background-color:green;top:2px;right:0}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people.multi[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;left:10px}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people.multi[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding-left:35px}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people.multi[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;max-width:calc(300px - 120px);margin:0}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%], [_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #fff;width:100%;color:#2e384d;margin-bottom:0;cursor:pointer}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], [_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .people[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#3066b8;color:#fff}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin:0;padding:5px 0}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;max-width:calc(270px - 90px);margin:0}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{position:absolute;top:4vh;left:14vw;background:#000;color:#fff;border-radius:20px;width:1.8vw;text-align:center}[_nghost-%COMP%]   .inbox-users[_ngcontent-%COMP%]   .recent-messages[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:12px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]{height:calc(100vh - 118px);width:calc(100% - 300px);padding:15px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1607843137254902);padding-bottom:10px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:50%;width:50px;height:50px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .status_image_offline[_ngcontent-%COMP%]{content:"";width:10px;height:10px;border-radius:50%;position:absolute;background-color:#ddd;top:2px;right:0}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   .status_image_online[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;position:absolute;background-color:green;top:2px;right:0}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#2e384d;margin:0;padding-top:5px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:13px;color:#868686}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading.multi[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]{background-color:#efefef;padding:6px;border-radius:4px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading.multi[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading.multi[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading.multi[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#2e384d}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .heading.multi[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:12px;color:#868686}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{height:calc(100vh - 250px);overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-recieved[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-send[_ngcontent-%COMP%]{padding:15px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-recieved[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-send[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:50%;width:50px;height:50px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-recieved[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-send[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-recieved[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-send[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;color:#868686;display:flex;align-items:flex-end}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-recieved[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-send[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{max-width:60%;margin:0;font-size:14px;line-height:1.3}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-recieved[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], [_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-send[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-recieved[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#f7f7f7;padding:20px;border-top-right-radius:10px;border-top-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-send[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{background:#f7f7f7;padding:20px;border-top-right-radius:10px;border-bottom-left-radius:10px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .send-message[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1607843137254902);padding-top:10px}[_nghost-%COMP%]   .chat-history[_ngcontent-%COMP%]   .send-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{box-shadow:none!important;border:0!important}[_nghost-%COMP%]   .filterby[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:18px;font-family:Source-Sans-Pro-Bold!important;display:flex;flex-direction:column;align-items:center;background-color:#ccced1;cursor:pointer}[_nghost-%COMP%]   .filterby[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .filterby[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0!important}[_nghost-%COMP%]   .filterby[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border-radius:5px;opacity:1;width:100px}[_nghost-%COMP%]   .filterby[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff;background-color:#0d1111;border-radius:5px}.swipe-bg[_ngcontent-%COMP%]{background:#d9d9d9;padding:8px 5px;border-radius:5px}.save-btn[_ngcontent-%COMP%]{font-size:18px;font-family:Source-Sans-Pro-Bold!important;background-color:#0d1111;color:#fff}.save-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:auto!important}']}),e})()}];let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Rb({type:e}),e.\u0275inj=p.Qb({imports:[[i.i.forChild(se)],i.i]}),e})();var ce=n("vvyD"),oe=n("YUcS"),ae=n("9urI");let re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.Rb({type:e}),e.\u0275inj=p.Qb({imports:[[s.c,ie,ae.a,o.l,o.v,ce.a,oe.a]]}),e})()}}]);