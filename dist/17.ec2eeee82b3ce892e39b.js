(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{TBW8:function(o,t,a){"use strict";a.r(t),a.d(t,"ReportManagementModule",function(){return M});var e=a("ofXK"),f=a("tyNb"),n=a("mrSG"),i=a("nBtZ"),r=a("qvdk"),s=a("S5/W"),l=a("3Pt+");class c{constructor(o,t,a,e,f,n,i,r){this.id=o,this.user_name=t,this.email=a,this.phone_number=e,this.created_at=f,this.query=n,this.action=i,this.status=r}static adapt(o){return o.rows.map(o=>{var t,a,e;return new c(null==o?void 0:o.id,null===(t=null==o?void 0:o.User)||void 0===t?void 0:t.user_name,null===(a=null==o?void 0:o.User)||void 0===a?void 0:a.email,null===(e=null==o?void 0:o.User)||void 0===e?void 0:e.phone_number,o.createdAt,o.query,o.is_resolved,o.is_resolved?"resolved":"unresolved")})}}var d=a("YjQY"),p=a("fXoL"),m=a("0IaG"),u=a("VO+5"),w=a("znSr"),b=a("bTqV"),g=a("ogi/"),h=a("1esC");function y(o,t){1&o&&(p.Zb(0,"span"),p.Qc(1," Export to excel"),p.Yb())}function S(o,t){if(1&o&&(p.Zb(0,"div",22),p.Qc(1,"\n        "),p.Ub(2,"app-loader",23),p.Qc(3,"\n      "),p.Yb()),2&o){const o=p.oc();p.Fb(2),p.vc("size",1.5)("isLoading",o.isLoading)}}const P=function(){return[5,10,15]},v=[{path:"",component:(()=>{class o{constructor(o,t,a){this.dataService=o,this.matDialog=t,this.notifierService=a,this.dataBusy=!1,this.popupRef=new r.a(this.matDialog),this.isLoading=!1,this.DeleteComponent=s.a,this.searchString=new l.g(""),this.tableData=[]}ngAfterViewInit(){}ngOnInit(){this.reports(),this.initializeColumns()}initializeColumns(){this.tableColumns=[{name:"User name",dataKey:"user_name",position:"left",isSortable:!0},{name:"Email",dataKey:"email",position:"left",isSortable:!0},{name:"Phone Number",dataKey:"phone_number",position:"left",isSortable:!0},{name:"Created at",dataKey:"created_at",position:"left",isSortable:!0},{name:"Query",dataKey:"query",position:"left",isSortable:!0},{name:"Status",dataKey:"status",position:"left",isSortable:!0}]}reports(){this.isLoading=!0,this.dataService.get("/query_report",c).subscribe(o=>Object(n.e)(this,void 0,void 0,function*(){this.tableData=o,this.isLoading=!1}),o=>{this.tableData=[],this.isLoading=!1})}toggleStatus(o){this.dataService.put("/query_report/toggle_resolve/"+o.id,{}).subscribe(o=>{this.notifierService.notify("success","Updated successfully"),this.reports()},o=>{var t;(null===(t=null==o?void 0:o.error)||void 0===t?void 0:t.error)?this.notifierService.notify("error",o.error.message):this.notifierService.notify("error","Something went wrong")})}validateArrayLength(o){return!!o.length}export(){this.dataBusy=!0,this.dataService.filters.limit=-1,this.dataService.filters.offset=0,this.dataService.get("/query_report",c).subscribe(o=>{if(!this.validateArrayLength(o.data))return this.notifierService.notify("error","No data available to download"),this.dataBusy=!1,this.dataService.filters.limit=5,0;d.a.Instance.downloadExcel(o.data,"report"),this.dataBusy=!1,this.dataService.filters.limit=5},o=>{this.dataService.filters.limit=5,this.dataBusy=!1})}edit(o){}openItemModal(o,t,a,e){this.matDialog.closeAll(),this.popupRef.openModal(o,t,{data:a},e).afterClosed().subscribe(o=>{o&&"done"==o.event&&this.reports(),o&&"closed"==o.event&&console.log("confirmed")})}ngOnDestroy(){this.dataService.filters.offset=0,this.dataService.filters.search="",this.dataService.filters.limit=5,this.dataService.filters.sortParams.key="",this.dataService.filters.sortParams.order="desc"}}return o.\u0275fac=function(t){return new(t||o)(p.Tb(i.a),p.Tb(m.b),p.Tb(u.c))},o.\u0275cmp=p.Nb({type:o,selectors:[["app-report-management"]],decls:64,vars:23,consts:[[1,"page","custom-page"],[1,"container-fluid"],[1,"row","mt-3",3,"ngClass"],[1,"head","pt-2","pb-4"],[1,"col-md-12","bg-white","align-items-center","justify-content-between","pt-3","pb-3",3,"ngClass"],[1,"sub-head","pl-3"],[1,"align-items-center","pr-3",3,"ngClass"],["mat-flat-button","",1,"bg-color","text-white","ml-3","mr-2","export-btn","excel-res",3,"disabled","click"],[4,"ngIf"],["size","0.5",1,"inline-loader",3,"isLoading"],[1,"form-inline",3,"ngClass"],["type","text",1,"form-control","ml-2","search-input",3,"formControl"],["input",""],["class","col-md-12 pt-5 justify-content-center d-flex",4,"ngIf"],[1,"col-md-12","bg-white",3,"ngClass"],[2,"display","grid",3,"ngClass"],[1,""],[3,"tableData","tableColumns","searchValue","isFilterable","isPageable","isDeleteIcon","paginationSizes","defaultPageSize","rowActionIcon","reloadTable","rowToggleResolveAction","rowDeleteAction","rowEditAction"],[1,"row","mt-3","custom-footer"],[1,"bg-white","px-4","pt-2","pb-2","w-100"],[1,"col-md-12","footer-font"],[1,"footer-bold"],[1,"col-md-12","pt-5","justify-content-center","d-flex"],[1,"inline-loader",3,"size","isLoading"]],template:function(o,t){1&o&&(p.Zb(0,"div",0),p.Qc(1,"\n  "),p.Zb(2,"div",1),p.Qc(3,"\n    "),p.Zb(4,"div",2),p.Qc(5,"\n      "),p.Zb(6,"h5",3),p.Qc(7,"Query/Report Management"),p.Yb(),p.Qc(8,"\n      "),p.Zb(9,"div",4),p.Qc(10,"\n        "),p.Zb(11,"h5",5),p.Qc(12,"Queries/Reports"),p.Yb(),p.Qc(13,"\n        "),p.Zb(14,"div",6),p.Qc(15,"\n          "),p.Zb(16,"button",7),p.kc("click",function(){return t.export()}),p.Qc(17,"\n            "),p.Oc(18,y,2,0,"span",8),p.Qc(19,"\n            "),p.Ub(20,"app-loader",9),p.Qc(21,"\n          "),p.Yb(),p.Qc(22,"\n          "),p.Zb(23,"form"),p.Qc(24,"\n            "),p.Zb(25,"div",10),p.Qc(26,"\n              Search\n              "),p.Ub(27,"input",11,12),p.Qc(29,"\n            "),p.Yb(),p.Qc(30,"\n          "),p.Yb(),p.Qc(31,"\n        "),p.Yb(),p.Qc(32,"\n      "),p.Yb(),p.Qc(33,"\n      "),p.Oc(34,S,4,2,"div",13),p.Qc(35,"\n\n      "),p.Qc(36,"\n      "),p.Zb(37,"div",14),p.Qc(38,"\n        "),p.Zb(39,"div",15),p.Qc(40,"\n          "),p.Zb(41,"div",16),p.Qc(42,"\n            "),p.Zb(43,"app-datatable",17),p.kc("reloadTable",function(){return t.reports()})("rowToggleResolveAction",function(o){return t.toggleStatus(o)})("rowDeleteAction",function(o){return t.openItemModal("delete",t.DeleteComponent,o,"ReportsComponent")})("rowEditAction",function(o){return t.edit(o)}),p.Qc(44,"\n            "),p.Yb(),p.Qc(45,"\n          "),p.Yb(),p.Qc(46,"\n        "),p.Yb(),p.Qc(47,"\n      "),p.Yb(),p.Qc(48,"\n    "),p.Yb(),p.Qc(49,"\n    "),p.Zb(50,"div",18),p.Qc(51,"\n      "),p.Zb(52,"div",19),p.Qc(53,"\n        "),p.Zb(54,"div",20),p.Qc(55,"\n          "),p.Zb(56,"span",21),p.Qc(57," Copyright \xa9 2021 Fit & More."),p.Yb(),p.Qc(58," All rights reserved.\n        "),p.Yb(),p.Qc(59,"\n      "),p.Yb(),p.Qc(60,"\n    "),p.Yb(),p.Qc(61,"\n  "),p.Yb(),p.Qc(62,"\n"),p.Yb(),p.Qc(63,"\n")),2&o&&(p.Fb(4),p.vc("ngClass",t.dataService.isMobile?"":"mx-2"),p.Fb(5),p.vc("ngClass",t.dataService.isMobile?"":" d-md-flex"),p.Fb(5),p.vc("ngClass",t.dataService.isMobile?"pl-3 d-flex":" d-md-flex"),p.Fb(2),p.vc("disabled",t.dataBusy),p.Fb(2),p.vc("ngIf",!t.dataBusy),p.Fb(2),p.vc("isLoading",t.dataBusy),p.Fb(5),p.vc("ngClass",t.dataService.isMobile?"pt-1":""),p.Fb(2),p.vc("formControl",t.searchString),p.Fb(7),p.vc("ngIf",t.isLoading),p.Fb(3),p.Lc("visibility",t.isLoading?"hidden":"visible"),p.vc("ngClass",t.dataService.smallDevice?"px-0":""),p.Fb(2),p.vc("ngClass",t.dataService.smallDevice?"mx-0":"mx-3"),p.Fb(4),p.vc("tableData",t.tableData)("tableColumns",t.tableColumns)("searchValue",t.searchString.value)("isFilterable",!0)("isPageable",!0)("isDeleteIcon",!0)("paginationSizes",p.yc(22,P))("defaultPageSize",5)("rowActionIcon","remove_shopping_cart"))},directives:[e.l,w.a,b.a,e.n,g.a,l.y,l.q,l.r,l.c,l.p,l.h,h.a],styles:['@charset "UTF-8";@font-face{font-family:Poppins-Bold;src:url(Poppins-Bold.dd24d10e037690f2bdcd.woff2) format("woff2"),url(Poppins-Bold.a6b628bdef91e927b77c.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Black.9f8a4a5f1e0fe91ec9f7.woff2) format("woff2"),url(Poppins-Black.5d04762a4d2605958eb6.woff) format("woff");font-weight:900;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-BlackItalic.8b2173d8ca7218c9aa98.woff2) format("woff2"),url(Poppins-BlackItalic.5853a96ec18aa08b3a15.woff) format("woff");font-weight:900;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraBold.5b57f3aae2d78f5ee992.woff2) format("woff2"),url(Poppins-ExtraBold.ccb9c2051b79f6df27a2.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-BoldItalic.18770f85e0c23fcc2822.woff2) format("woff2"),url(Poppins-BoldItalic.066192b3e079bf989a28.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraLightItalic.55ba016002be15c32078.woff2) format("woff2"),url(Poppins-ExtraLightItalic.7b781bcc5774b4ca3aef.woff) format("woff");font-weight:200;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraBoldItalic.971d0eac32fdff44ef0a.woff2) format("woff2"),url(Poppins-ExtraBoldItalic.a0eb757c1156a6670626.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Light.9bec05ab7f83d34eb905.woff2) format("woff2"),url(Poppins-Light.6f5b7a1c94cb6419bec4.woff) format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Italic.f932365bae7a67562d50.woff2) format("woff2"),url(Poppins-Italic.dce4482653df21326fb3.woff) format("woff");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ExtraLight.8a5423f83d49c5ba6eea.woff2) format("woff2"),url(Poppins-ExtraLight.52747ba12744d6335cc9.woff) format("woff");font-weight:200;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-MediumItalic.de07f277b373e75a16b2.woff2) format("woff2"),url(Poppins-MediumItalic.38bd2f9c930011bc0e4f.woff) format("woff");font-weight:500;font-style:italic;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-LightItalic.f8fc4fd3d2ad4a00a9a2.woff2) format("woff2"),url(Poppins-LightItalic.cbc254035fd2db12340f.woff) format("woff");font-weight:300;font-style:italic;font-display:swap}@font-face{font-family:Poppins-Medium;src:url(Poppins-Medium.563f976db73ca07d8fc3.woff2) format("woff2"),url(Poppins-Medium.7e588a26bdac2428f240.woff) format("woff");font-weight:500;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-SemiBoldItalic.6ad14e1bba33d088176b.woff2) format("woff2"),url(Poppins-SemiBoldItalic.ae7a11bcc58ca2e84f43.woff) format("woff");font-weight:600;font-style:italic;font-display:swap}@font-face{font-family:Poppins-Regular;src:url(Poppins-Regular.ad19729d6a0511212493.woff2) format("woff2"),url(Poppins-Regular.387f9003f984ef1cec60.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-SemiBold.3c3f3613b59d581739fc.woff2) format("woff2"),url(Poppins-SemiBold.71da8e4f0d76b718897c.woff) format("woff");font-weight:600;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-Thin.852bafc278ec1d018963.woff2) format("woff2"),url(Poppins-Thin.654968a8c2ee9e7c8bb6.woff) format("woff");font-weight:100;font-style:normal;font-display:swap}@font-face{font-family:Poppins;src:url(Poppins-ThinItalic.0996aa024c3d73abd3bb.woff2) format("woff2"),url(Poppins-ThinItalic.ed0c900126e6bfcf463c.woff) format("woff");font-weight:100;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-BlackItalic.dc2aeed524020417e75e.woff2) format("woff2"),url(SourceSansPro-BlackItalic.23ac2cb303e520d9dae1.woff) format("woff");font-weight:900;font-style:italic;font-display:swap}@font-face{font-family:Source-Sans-Pro-Bold;src:url(SourceSansPro-Bold.0c995bef8bf72442d796.woff2) format("woff2"),url(SourceSansPro-Bold.91f9f2e61630c9aa1404.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Black.0909c2844da7ecd1d03d.woff2) format("woff2"),url(SourceSansPro-Black.f18ac4042ae8e0afd62e.woff) format("woff");font-weight:900;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-BoldItalic.ef8fdb1ec6ba81eaa0ed.woff2) format("woff2"),url(SourceSansPro-BoldItalic.097e86e5c1a9d40ae43e.woff) format("woff");font-weight:700;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-ExtraLight.a629a9c6cb4184fdbf52.woff2) format("woff2"),url(SourceSansPro-ExtraLight.f3fda02d13be37f04148.woff) format("woff");font-weight:200;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Italic.df0284f48bf82344e808.woff2) format("woff2"),url(SourceSansPro-Italic.0a5e990ac6ee1cbd5331.woff) format("woff");font-weight:400;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-ExtraLightItalic.e18594a38c6a04711f56.woff2) format("woff2"),url(SourceSansPro-ExtraLightItalic.4a745a8610207e8d302b.woff) format("woff");font-weight:200;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Light.fda76ee47fb03c6f600c.woff2) format("woff2"),url(SourceSansPro-Light.9af3f18eb9e9a9513df6.woff) format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-Regular.2002a425747f5a14e2ec.woff2) format("woff2"),url(SourceSansPro-Regular.30c47935a0d8eb4943fb.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-LightItalic.5fe22e53f5325a7be047.woff2) format("woff2"),url(SourceSansPro-LightItalic.80562f412fba0975d584.woff) format("woff");font-weight:300;font-style:italic;font-display:swap}@font-face{font-family:Source Sans Pro;src:url(SourceSansPro-SemiBoldItalic.f035d6a1c635cda6d11a.woff2) format("woff2"),url(SourceSansPro-SemiBoldItalic.5fd025fde03c4c25da3b.woff) format("woff");font-weight:600;font-style:italic;font-display:swap}@font-face{font-family:Source-Sans-Pro-SemiBold;src:url(SourceSansPro-SemiBold.ea12a4c1226398200b27.woff2) format("woff2"),url(SourceSansPro-SemiBold.2e8a8368205a8b773e32.woff) format("woff");font-weight:600;font-style:normal;font-display:swap}.container[_ngcontent-%COMP%]{text-align:center;padding:1em}.logo[_ngcontent-%COMP%]{width:150px;margin:0 auto}q[_ngcontent-%COMP%]{font-style:italic;quotes:"\xab " " \xbb"}.bg-color[_ngcontent-%COMP%]{background-color:#0d1111}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:30%}img[_ngcontent-%COMP%]{width:50px;height:50px}.light-color[_ngcontent-%COMP%]{background-color:#def2f1}.action-btn[_ngcontent-%COMP%]{border-radius:0}.mat-standard-chip[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff;border:1px solid #ddd}.mat-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#def2f1}.mat-chip.mat-standard-chip[_ngcontent-%COMP%]:after{background:transparent}.mat-header-cell[_ngcontent-%COMP%]{font-size:16px!important;color:#17242a}.selector-btn-2[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#fff}.type-option[_ngcontent-%COMP%]{background:#def2f1!important;border:1px solid #def2f1;border-radius:5px;width:200px;font-size:16px}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{padding-bottom:0!important;margin:0}[_nghost-%COMP%]     .mat-form-field-infix{border-top:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-flex{padding:5px .75em 0!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-infix{padding:.8em 0}[_nghost-%COMP%]     .mat-select{font-family:Source-Sans-Pro-Bold!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(0)}']}),o})()}];let C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=p.Rb({type:o}),o.\u0275inj=p.Qb({imports:[[f.i.forChild(v)],f.i]}),o})();var Q=a("vvyD"),x=a("9urI"),I=a("YUcS"),B=a("tk/3");let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=p.Rb({type:o}),o.\u0275inj=p.Qb({imports:[[e.c,C,x.a,Q.a,I.a,B.c,l.l,l.v]]}),o})()}}]);